ğŸ“ src
  ğŸ“„ app.config.ts
  ğŸ“„ app.scss
  ğŸ“„ app.ts
  ğŸ“ components
    ğŸ“ BannerCarousel
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ PageHeader
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ QuickContact
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ ServiceCardCarousel
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ ServiceSection
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ ShowcaseSection
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
  ğŸ“„ index.html
  ğŸ“ pages
    ğŸ“ cases
      ğŸ“„ index.config.ts
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
    ğŸ“ index
      ğŸ“„ index.config.ts
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
  ğŸ“ services
    ğŸ“ api
      ğŸ“ cases
        ğŸ“„ casesApi.ts
        ğŸ“„ data.ts
        ğŸ“„ types.ts
      ğŸ“ index
        ğŸ“„ data.ts
        ğŸ“„ indexApi.ts
        ğŸ“„ types.ts
    ğŸ“ http
      ğŸ“„ cache.ts
      ğŸ“„ config.ts
      ğŸ“„ errorHandler.ts
      ğŸ“„ index.ts
      ğŸ“„ interceptor.ts
      ğŸ“„ request.ts
      ğŸ“„ types.ts
  ğŸ“ styles
    ğŸ“„ theme.css

===== File: app.config.ts =====
export default defineAppConfig({
  // å°†æ‰€æœ‰TabBaré¡µé¢æ”¾åœ¨ä¸»åŒ…ä¸­
  pages: [
    'pages/index/index',
    'pages/product/index',
    'pages/cases/index',
    'pages/contact/index'
  ],
  window: {
    backgroundTextStyle: 'light',
    navigationBarBackgroundColor: '#FFFFFF',
    navigationBarTitleText: 'éƒ‘å¼ä¿®ç¼®', // ä¿®æ”¹å¯¼èˆªæ ‡é¢˜
    navigationBarTextStyle: 'black'
  },
  // éTabBaré¡µé¢å¯ä»¥æ”¾åœ¨åˆ†åŒ…ä¸­
  subPackages: [],
  tabBar: {
    color: '#757575',
    selectedColor: '#2563EB',
    backgroundColor: '#FFFFFF',
    borderStyle: 'white',
    list: [
      {
        pagePath: 'pages/index/index',
        text: 'é¦–é¡µ',
        iconPath: 'assets/tab-bar/home.png',
        selectedIconPath: 'assets/tab-bar/home-active.png'
      },
      {
        pagePath: 'pages/product/index',
        text: 'äº§å“',
        iconPath: 'assets/tab-bar/service.png',
        selectedIconPath: 'assets/tab-bar/service-active.png'
      },
      {
        pagePath: 'pages/cases/index',
        text: 'æ¡ˆä¾‹',
        iconPath: 'assets/tab-bar/case.png',
        selectedIconPath: 'assets/tab-bar/case-active.png'
      },
      {
        pagePath: 'pages/contact/index',
        text: 'è”ç³»æˆ‘ä»¬',
        iconPath: 'assets/tab-bar/contact.png',
        selectedIconPath: 'assets/tab-bar/contact-active.png'
      }
    ]
  },
  lazyCodeLoading: "requiredComponents"
})
===== End of File: app.config.ts =====


===== File: app.scss =====
/* app.scss - é€‚ç”¨äº Taro + NutUI React å¤šç«¯é¡¹ç›® */

/* å…¨å±€åŸºç¡€æ ·å¼ */
page {
    height: 100%;
    font-size: 16px;
    line-height: 1.5;
    color: var(--nutui-gray-7);
    background-color: var(--nutui-gray-3);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  }
  
  /* å®¹å™¨å¸ƒå±€ */
  .container {
    padding: 10px;
  }
  
  /* å¼¹æ€§å¸ƒå±€å·¥å…· */
  .flex {
    display: flex;
    
    &-center {
      align-items: center;
      justify-content: center;
    }
    
    &-between {
      align-items: center;
      justify-content: space-between;
    }
    
    &-column {
      flex-direction: column;
    }
  }
  
  /* é—´è·è¾…åŠ©ç±» - ç²¾ç®€ç‰ˆ */
  .mt-10 { margin-top: 10px; }
  .mr-10 { margin-right: 10px; }
  .mb-10 { margin-bottom: 10px; }
  .ml-10 { margin-left: 10px; }
  .pt-10 { padding-top: 10px; }
  .pr-10 { padding-right: 10px; }
  .pb-10 { padding-bottom: 10px; }
  .pl-10 { padding-left: 10px; }
  
  /* å¸¸ç”¨æ–‡æœ¬æ ·å¼ */
  .text-primary { color: var(--nutui-color-primary); }
  .text-center { text-align: center; }
  .text-bold { font-weight: bold; }
  
  /* å¡ç‰‡ç»„ä»¶ */
  .card {
    background-color: #fff;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  /* 1px è¾¹æ¡†è§£å†³æ–¹æ¡ˆ */
  .hairline-bottom {
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 1px;
      background-color: var(--nutui-gray-4);
      transform: scaleY(0.5);
    }
  }
  
  /* å®‰å…¨åŒºé€‚é… */
  .safe-bottom {
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
  }
===== End of File: app.scss =====


===== File: app.ts =====
import  { useEffect } from 'react'
import { useDidShow, useDidHide } from '@tarojs/taro'

// å…¨å±€æ ·å¼
import './styles/theme.css'
import './app.scss'

function App(props) {
  // å¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„ React Hooks
  useEffect(() => {})

  // å¯¹åº” onShow
  useDidShow(() => {})

  // å¯¹åº” onHide
  useDidHide(() => {})

  return props.children
}

export default App
===== End of File: app.ts =====


===== File: components\BannerCarousel\index.scss =====
.banner-carousel {
  width: 100%;
  height: 220px;
  overflow: hidden;
  position: relative;
}

.banner-swiper {
  width: 100%;
  height: 100%;
}

.banner-item {
  width: 100%;
  height: 100%;
  position: relative;
}

.banner-image {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}

.banner-content {
  position: absolute;
  z-index: 2;
  left: 0;
  bottom: 0;
  width: 100%;
  padding: 16px 20px;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0));
  text-align: left;
}

.banner-title {
  font-size: 22px;
  font-weight: bold;
  color: #fff;
  margin-bottom: 4px;
  display: block;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

.banner-subtitle {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.9);
  display: block;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}
===== End of File: components\BannerCarousel\index.scss =====


===== File: components\BannerCarousel\index.tsx =====
import { View, Text, Image, Swiper, SwiperItem } from '@tarojs/components'
import { Banner } from 'src/services/api/index/types'
import './index.scss'

interface BannerCarouselProps {
  banners: Banner[];
}

export default function BannerCarousel({ banners }: BannerCarouselProps) {
  return (
    <View className='banner-carousel'>
      <Swiper
        className='banner-swiper'
        indicatorColor='#ddd'
        indicatorActiveColor='#2563EB'
        circular
        indicatorDots
        autoplay
        interval={3500}
      >
        {banners.map(banner => (
          <SwiperItem key={banner.id}>
            <View className='banner-item'>
              <Image 
                className='banner-image' 
                src={banner.imageUrl} 
                mode='aspectFill'
              />
              <View className='banner-content'>
                {banner.title && (
                  <Text className='banner-title'>{banner.title}</Text>
                )}
                
                {banner.subtitle && (
                  <Text className='banner-subtitle'>{banner.subtitle}</Text>
                )}
              </View>
            </View>
          </SwiperItem>
        ))}
      </Swiper>
    </View>
  )
}
===== End of File: components\BannerCarousel\index.tsx =====


===== File: components\PageHeader\index.scss =====
/* components/PageHeader/index.scss */

.unified-header {
  background-color: #fff;
  width: 100%;
  
  /* æœç´¢åŒºåŸŸ */
  .header-search {
    padding: 8px 16px 8px;
  }
  
  /* è‡ªå®šä¹‰æœç´¢æ æ ·å¼ */
  .custom-searchbar {
    background-color: #f2f2f2;
    height: 34px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    padding: 0 12px;
    transition: all 0.3s ease;
    
    &:focus-within {
      background-color: #e9e9e9;
      box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
    }
  }
  
  .search-icon {
    color: #999;
    font-size: 16px;
    margin-right: 8px;
  }
  
  .search-input {
    flex: 1;
    height: 34px;
    font-size: 14px;
    color: #333;
    border: none;
    background: transparent;
  }
  
  .search-clear {
    color: #999;
    font-size: 16px;
    padding: 4px;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    
    &:active {
      background-color: #e0e0e0;
    }
  }
  
  /* æ ‡ç­¾åŒºåŸŸ */
  .header-tabs-container {
    position: relative;
    overflow: hidden;
  }
  
  .tabs-container {
    white-space: nowrap;
    
    &::-webkit-scrollbar {
      display: none;
    }
  }
  
  .tabs-list {
    height: 40px;
    padding: 0 8px;
    display: inline-flex;
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 1px;
      background-color: #f0f0f0;
    }
  }
  
  .tab-item {
    font-size: 14px;
    color: #666;
    padding: 0 12px;
    height: 40px;
    line-height: 40px;
    position: relative;
    white-space: nowrap;
    
    &.active {
      color: #333;
      font-weight: 500;
      
      .tab-line {
        opacity: 1;
      }
    }
    
    .tab-line {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      height: 2px;
      width: 20px;
      background-color: #2563eb;
      border-radius: 1px;
      opacity: 0;
      transition: opacity 0.3s;
    }
  }
}
===== End of File: components\PageHeader\index.scss =====


===== File: components\PageHeader\index.tsx =====
import { useState, useCallback } from 'react';
import { View, Text, Input, ScrollView } from '@tarojs/components';
import './index.scss';

export interface TabItem {
  title: string;
  value: string;
}

interface PageHeaderProps {
  keyword: string;
  onSearch: (value: string) => void;
  searchPlaceholder?: string;
  currentType: string;
  onTypeChange: (value: string) => void;
  tabs: TabItem[];
  debounceTime?: number;
}

export default function PageHeader({
  keyword,
  onSearch,
  searchPlaceholder = 'æœç´¢',
  currentType,
  onTypeChange,
  tabs,
  debounceTime = 500
}: PageHeaderProps) {
  const [searchValue, setSearchValue] = useState(keyword);
  const [searchTimer, setSearchTimer] = useState<any>(null);

  // å¤„ç†æœç´¢è¾“å…¥å˜åŒ–
  const handleSearch = useCallback(
    (value: string) => {
      setSearchValue(value);
      if (searchTimer) {
        clearTimeout(searchTimer);
      }
      
      const timer = setTimeout(() => {
        onSearch(value);
      }, debounceTime);
      
      setSearchTimer(timer);
    },
    [onSearch, debounceTime, searchTimer]
  );
  
  // æ¸…ç©ºæœç´¢
  const handleClear = () => {
    setSearchValue('');
    onSearch('');
  };
  
  // å¤„ç†æ ‡ç­¾åˆ‡æ¢
  const handleTabChange = (value: string) => {
    onTypeChange(value);
  };

  return (
    <View className="unified-header">
      {/* æœç´¢åŒºåŸŸ */}
      <View className="header-search">
        <View className="custom-searchbar">
          <Text className="search-icon">ğŸ”</Text>
          <Input
            className="search-input"
            value={searchValue}
            placeholder={searchPlaceholder}
            onInput={(e) => handleSearch(e.detail.value)}
            confirmType="search"
            onConfirm={(e) => onSearch(e.detail.value)}
          />
          {searchValue && (
            <Text className="search-clear" onClick={handleClear}>Ã—</Text>
          )}
        </View>
      </View>
      
      {/* æ ‡ç­¾åŒºåŸŸ - ä½¿ç”¨ScrollViewä½†ä¸å°è¯•æ‰‹åŠ¨æ§åˆ¶æ»šåŠ¨ */}
      <View className="header-tabs-container">
        <ScrollView 
          scrollX 
          scrollWithAnimation
          className="tabs-container"
          showScrollbar={false}
        >
          <View className="tabs-list">
            {tabs.map((tab) => (
              <View
                key={tab.value}
                className={`tab-item ${currentType === tab.value ? 'active' : ''}`}
                onClick={() => handleTabChange(tab.value)}
              >
                <Text>{tab.title}</Text>
                <View className="tab-line" />
              </View>
            ))}
          </View>
        </ScrollView>
      </View>
    </View>
  );
}
===== End of File: components\PageHeader\index.tsx =====


===== File: components\QuickContact\index.scss =====
// src/components/QuickContact/index.scss

// å¿«é€Ÿè”ç³» - ä¿®æ”¹åçš„æ ·å¼ï¼ˆæ›´å¤§æ›´é†’ç›®çš„æŒ‰é’®ï¼‰
.quick-contact {
    display: flex;
    margin: 15px 15px 20px;
    background: #fff;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    position: relative;
    z-index: 10;
    
    .contact-btn {
      flex: 1;
      margin: 0 8px;
      height: 54px;
      font-weight: 600;
      font-size: 16px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      
      &:active {
        transform: scale(0.98);
        opacity: 0.9;
      }
      
      .btn-icon {
        margin-right: 6px;
        font-size: 20px;
      }
    }
    
    .call-btn {
      background: #1155cc;
      color: #fff;
      box-shadow: 0 2px 6px rgba(17, 85, 204, 0.3);
    }
    
    .wechat-btn {
      background: #09BB07;
      color: #fff;
      box-shadow: 0 2px 6px rgba(9, 187, 7, 0.3);
      
      &.disabled {
        opacity: 0.7;
        background: #71c371;
        box-shadow: none;
      }
    }
  }
  
  // å“åº”å¼é€‚é…
  @media screen and (max-width: 375px) {
    .quick-contact {
      padding: 12px;
      
      .contact-btn {
        height: 48px;
        font-size: 14px;
      }
    }
  }
===== End of File: components\QuickContact\index.scss =====


===== File: components\QuickContact\index.tsx =====
import { useState } from 'react'
import { View, Text } from '@tarojs/components'
import Taro from '@tarojs/taro'
import './index.scss'

interface ContactInfo {
  phone: string[];
  wechat: string;
}

interface QuickContactProps {
  contactInfo: ContactInfo;
  onShowToast?: (message: string, type: 'success' | 'fail' | 'warn') => void;
}

const QuickContact: React.FC<QuickContactProps> = ({ 
  contactInfo,
  onShowToast
}) => {
  const [isProcessingWechat, setIsProcessingWechat] = useState(false);

  // ç”µè¯å’¨è¯¢ - ä¼˜å…ˆæ‹¨æ‰“ç¬¬ä¸€ä¸ªå·ç 
  const handleCall = () => {
    if (!contactInfo?.phone?.length) return;
    
    // å¦‚æœæœ‰å¤šä¸ªå·ç ï¼Œå¯ä»¥å¼¹å‡ºé€‰æ‹©æ¡†ï¼Œè¿™é‡Œç®€åŒ–ä¸ºç›´æ¥æ‹¨æ‰“ç¬¬ä¸€ä¸ª
    const primaryPhone = contactInfo.phone[0];
    
    Taro.makePhoneCall({
      phoneNumber: primaryPhone
    }).catch(err => {
      if (err.errMsg && !err.errMsg.includes('cancel')) {
        onShowToast?.('æ‹¨å·å¤±è´¥', 'fail');
      }
    });
  };

  // å¾®ä¿¡å’¨è¯¢
  const handleWechat = () => {
    if (!contactInfo?.wechat || isProcessingWechat) return;
    
    setIsProcessingWechat(true);
    
    Taro.setClipboardData({
      data: contactInfo.wechat,
      success: function () {
        // ä½¿ç”¨ç³»ç»Ÿé»˜è®¤æç¤º
      },
      fail: (err) => {
        if (!err.errMsg?.includes('cancel')) {
          onShowToast?.('å¤åˆ¶å¤±è´¥', 'fail');
        }
      },
      complete: () => {
        setTimeout(() => {
          setIsProcessingWechat(false);
        }, 1600);
      }
    });
  };

  return (
    <View className='quick-contact'>
      <View 
        className='contact-btn call-btn'
        onClick={handleCall}
      >
        <Text className='btn-icon'>ğŸ“</Text> ç”µè¯å’¨è¯¢
      </View>
      <View 
        className={`contact-btn wechat-btn ${isProcessingWechat ? 'disabled' : ''}`}
        onClick={(e) => {
          if (isProcessingWechat) return;
          e?.stopPropagation && e.stopPropagation();
          handleWechat();
        }}
      >
        <Text className='btn-icon'>ğŸ’¬</Text> å¾®ä¿¡å’¨è¯¢
      </View>
    </View>
  );
};

export default QuickContact;
===== End of File: components\QuickContact\index.tsx =====


===== File: components\ServiceCardCarousel\index.scss =====
/* ç°ä»£é£æ ¼æœåŠ¡å¡ç‰‡è½®æ’­ */
.service-carousel {
  width: 100%;
  margin: 16px 0 24px;
  position: relative;
  overflow: hidden;
  
  // ç©ºçŠ¶æ€æ ·å¼
  &-empty {
    width: 100%;
    height: 180px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #9CA3AF;
    font-size: 14px;
    background-color: #F9FAFB;
    border-radius: 12px;
    box-shadow: 0 8px 16px rgba(17, 24, 39, 0.06);
  }
}

/* è½®æ’­æ ·å¼ */
.service-swiper {
  width: 100%;
  background-color: transparent;
  overflow: visible;
  padding: 16px 0 30px;
  
  &-item {
    transition: all 0.45s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    justify-content: center;
    align-items: center;
  }
}

/* æœåŠ¡å¡ç‰‡æ ·å¼ */
.service-card {
  background-color: #FFFFFF;
  border-radius: 12px;
  padding: 12px 10px;
  box-shadow: 0 8px 16px rgba(17, 24, 39, 0.08);
  display: flex;
  flex-direction: column;
  height: auto;
  min-height: 140px;
  width: 100%;
  margin: 0 auto;
  transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  
  /* éæ¿€æ´»é®ç½©å±‚ */
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(255, 255, 255, 0.5);
    opacity: 0;
    transition: opacity 0.35s ease;
    pointer-events: none;
    z-index: 1;
  }
  
  /* æ¿€æ´»æ ·å¼ */
  &-active {
    transform: scale(1.03);
    box-shadow: 0 12px 28px rgba(17, 24, 39, 0.12);
    
    &::after {
      opacity: 0;
    }
  }
  
  /* éæ¿€æ´»æ ·å¼ */
  &:not(.service-card-active)::after {
    opacity: 1;
  }
  
  /* å¡ç‰‡ä¸»ä½“ */
  &-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    position: relative;
    z-index: 0;
    text-align: center;
    padding: 0 5px;
  }
}

/* æœåŠ¡æ ‡é¢˜ */
.service-title {
  font-size: 24px;
  font-weight: 600;
  color: #1F2937;
  margin-bottom: 6px;
  margin-top: 2px;
  display: block;
  text-align: center;
  position: relative;
  
  &::after {
    content: '';
    display: block;
    width: 40px;
    height: 3px;
    background: linear-gradient(90deg, #60A5FA, #2563EB);
    margin: 6px auto 0;
    border-radius: 2px;
  }
}

/* æœåŠ¡æè¿° */
.service-description {
  font-size: 14px;
  color: #6B7280;
  line-height: 1.4;
  margin-bottom: 8px;
  text-align: center;
  padding: 0 5px;
  max-width: 95%;
  margin-left: auto;
  margin-right: auto;
}

/* æœåŠ¡ç‰¹ç‚¹ */
.service-features {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-bottom: 0;
  flex-grow: 1;
  justify-content: center;
  align-items: center;
  padding-top: 3px;
  width: 98%;
  margin-left: auto;
  margin-right: auto;
}

/* ç‰¹ç‚¹æ ‡ç­¾ */
.feature-tag {
  font-size: 12px;
  color: #2563EB;
  background-color: #EFF6FF;
  padding: 3px 8px;
  border-radius: 6px;
  display: inline-block;
  font-weight: 500;
  margin: 2px;
}

/* æŒ‡ç¤ºå™¨å®¹å™¨ */
.swiper-indicators {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 6px 0;
}

/* æŒ‡ç¤ºå™¨ç‚¹ */
.swiper-indicator {
  width: 8px;
  height: 8px;
  background: #F3F4F6;
  border-radius: 50%;
  margin: 0 4px;
  transition: all 0.3s ease;
  
  /* æ¿€æ´»æŒ‡ç¤ºå™¨ */
  &-active {
    width: 20px;
    border-radius: 10px;
    background: #3B82F6;
  }
}

/* å“åº”å¼é€‚é… */
@media screen and (max-width: 375px) {
  .service-card {
    padding: 12px 10px;
    min-height: 150px;
  }
  
  .service-title {
    font-size: 20px;
    margin-bottom: 8px;
  }
  
  .service-description {
    font-size: 13px;
    margin-bottom: 8px;
    line-height: 1.4;
  }
  
  .feature-tag {
    font-size: 11px;
    padding: 3px 8px;
    margin: 2px;
  }
  
  .service-features {
    gap: 4px;
  }
}
===== End of File: components\ServiceCardCarousel\index.scss =====


===== File: components\ServiceCardCarousel\index.tsx =====
import { View, Text, Swiper, SwiperItem } from '@tarojs/components'
import { useState, useRef, useEffect } from 'react'
import './index.scss'

// æœåŠ¡é¡¹æ¥å£
export interface ServiceItem {
  id: number | string;
  title: string;
  description: string;
  features: string[];
}

interface ServiceCarouselProps {
  services: ServiceItem[];
  onServiceClick?: (service: ServiceItem) => void;
  autoPlay?: boolean;
  interval?: number;
  initialIndex?: number;
  className?: string;
}

const ServiceCarousel: React.FC<ServiceCarouselProps> = ({ 
  services = [],
  onServiceClick, 
  autoPlay = true, 
  interval = 4000,
  initialIndex = 0,
  className = ''
}) => {
  // å½“å‰è½®æ’­ç´¢å¼•
  const [currentIndex, setCurrentIndex] = useState(initialIndex);
  
  // å®¹å™¨å¼•ç”¨
  const containerRef = useRef<any>(null);
  
  // è¾¹è·çŠ¶æ€
  const [sideMargin, setSideMargin] = useState('40px');
  
  // ç¼“å­˜æœ‰æ•ˆçš„æœåŠ¡åˆ—è¡¨
  const validServices = services?.filter(item => 
    item && (typeof item.id === 'number' || typeof item.id === 'string')
  ) || [];
  
  // è®¡ç®—è¾¹è· - åŸºäºçˆ¶å®¹å™¨è€Œéå±å¹•
  useEffect(() => {
    if (containerRef.current) {
      try {
        // è·å–å®¹å™¨å®½åº¦
        const containerWidth = containerRef.current.clientWidth;
        // å¡ç‰‡å®½åº¦ä¸ºå®¹å™¨çš„85%
        const cardWidth = containerWidth * 0.85;
        // ä¸¤ä¾§è¾¹è·ç­‰åˆ†å‰©ä½™ç©ºé—´
        const margin = Math.floor((containerWidth - cardWidth) / 2);
        setSideMargin(`${margin}px`);
      } catch (error) {
        // å¼‚å¸¸å¤„ç†
        console.error('è®¡ç®—è¾¹è·å‡ºé”™', error);
      }
    }
  }, []);
  
  // å¤„ç†è½®æ’­åˆ‡æ¢
  const handleSwipeChange = (e: any) => {
    if (e?.detail?.current != null) {
      setCurrentIndex(e.detail.current);
    }
  };
  
  // å¤„ç†æœåŠ¡ç‚¹å‡»
  const handleServiceClick = (service: ServiceItem) => {
    onServiceClick?.(service);
  };

  // ç©ºæ•°æ®å¤„ç†
  if (!validServices.length) {
    return <View className='service-carousel-empty'>æš‚æ— æœåŠ¡æ•°æ®</View>;
  }

  // è®¡ç®—æ˜¯å¦åº”æ˜¾ç¤ºæŒ‡ç¤ºå™¨
  const shouldShowIndicator = validServices.length > 1;
  
  // è®¡ç®—åˆå§‹ç´¢å¼•ï¼Œç¡®ä¿åœ¨æœ‰æ•ˆèŒƒå›´å†…
  const safeInitialIndex = Math.max(0, Math.min(initialIndex, validServices.length - 1));

  return (
    <View className={`service-carousel ${className}`} ref={containerRef}>
      <Swiper
        className='service-swiper'
        circular={validServices.length > 2}
        autoplay={autoPlay && validServices.length > 1}
        interval={interval}
        previousMargin={sideMargin}
        nextMargin={sideMargin}
        onChange={handleSwipeChange}
        indicatorDots={false}
        current={safeInitialIndex}
      >
        {validServices.map((service, index) => (
          <SwiperItem key={`service-${service.id}`} className='service-swiper-item'>
            <View 
              className={`service-card ${index === currentIndex ? 'service-card-active' : ''}`}
              onClick={() => handleServiceClick(service)}
            >
              <View className='service-card-main'>
                <Text className='service-title'>{service.title || ''}</Text>
                <Text className='service-description'>{service.description || ''}</Text>
                
                <View className='service-features'>
                  {(service.features || []).map((feature, idx) => (
                    <Text key={`feature-${idx}`} className='feature-tag'>{feature}</Text>
                  ))}
                </View>
              </View>
            </View>
          </SwiperItem>
        ))}
      </Swiper>
      
      {/* è‡ªå®šä¹‰æŒ‡ç¤ºå™¨ */}
      {shouldShowIndicator && (
        <View className="swiper-indicators">
          {validServices.map((_, index) => (
            <View 
              key={`indicator-${index}`} 
              className={`swiper-indicator ${index === currentIndex ? 'swiper-indicator-active' : ''}`}
            />
          ))}
        </View>
      )}
    </View>
  );
};

export default ServiceCarousel;
===== End of File: components\ServiceCardCarousel\index.tsx =====


===== File: components\ServiceSection\index.scss =====
.service-section-container {
  margin: 20px 15px;
  padding: 18px;
}

.section-header {
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.section-title {
  font-size: 16px;
  font-weight: bold;
  color: #333;
  position: relative;
  padding-left: 12px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 18px;
    background: linear-gradient(to bottom, #3B82F6, #2563EB);
    border-radius: 4px;
  }
}

.service-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.service-item {
  background-color: var(--nutui-gray-2);
  border-radius: 8px;
  padding: 12px;
  text-align: left;

  .service-item-title {
    font-size: 15px;
    color: var(--nutui-gray-7);
    margin-bottom: 6px;
    display: block;
  }

  .service-item-description {
    font-size: 13px;
    color: var(--nutui-gray-5);
    line-height: 1.4;
  }
}
===== End of File: components\ServiceSection\index.scss =====


===== File: components\ServiceSection\index.tsx =====
import { View, Text } from '@tarojs/components'
import { Service } from 'src/services/api/index/types'
import './index.scss'

interface ServiceSectionProps {
  services: Service[];
  title?: string;
}

const ServiceSection: React.FC<ServiceSectionProps> = ({ services, title = "æˆ‘ä»¬çš„æœåŠ¡" }) => {
  if (!services || services.length === 0) {
    return null;
  }

  return (
    <View className='service-section-container card'>
      <View className='section-header'>
        <Text className='section-title'>{title}</Text>
      </View>
      <View className='service-grid'>
        {services.map(service => (
          <View key={service.id} className='service-item'>
            <Text className='service-item-title text-bold'>{service.title}</Text>
            <Text className='service-item-description'>{service.description}</Text>
          </View>
        ))}
      </View>
    </View>
  );
}

export default ServiceSection;
===== End of File: components\ServiceSection\index.tsx =====


===== File: components\ShowcaseSection\index.scss =====
// src/components/ShowcaseSection/index.scss

// é€šç”¨æ¿å—æ ·å¼
.section {
    margin: 0 15px 20px;
    background: #fff;
    border-radius: 12px;
    padding: 18px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
  }
  
  .section-header {
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .section-title {
    font-size: 16px;
    font-weight: bold;
    color: #333;
    position: relative;
    padding-left: 12px;
    
    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 18px;
      background: linear-gradient(to bottom, #3B82F6, #2563EB);
      border-radius: 4px;
    }
  }
  
  // å›¾ç‰‡åŠ è½½å’Œé”™è¯¯çŠ¶æ€
  .case-image-loading,
  .case-image-error {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f0f0f0;
    color: #999;
    font-size: 14px;
  }
  
  .case-image-error {
    background-color: #fafafa;
  }
  
  // æ¡ˆä¾‹å±•ç¤º
  .case-container {
    margin-top: 5px;
  }
  
  .case-feature {
    margin-bottom: 15px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    
    &:active {
      transform: translateY(-2px);
      box-shadow: 0 5px 12px rgba(0, 0, 0, 0.12);
    }
    
    .case-image {
      width: 100%;
      height: 160px;
      border-radius: 0;
      
      :global(.nut-image-img) {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }
    
    .case-content {
      padding: 12px;
      background: #fff;
    }
    
    .case-title {
      font-size: 15px;
      font-weight: bold;
      color: #333;
      margin-bottom: 5px;
      display: block;
    }
    
    .case-description {
      font-size: 13px;
      color: #666;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      line-height: 1.5;
    }
  }
  
  .case-grid {
    display: flex;
    justify-content: space-between;
    
    .case-item {
      width: calc(50% - 5px);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
      transition: all 0.3s ease;
      
      &:active {
        transform: translateY(-2px);
        box-shadow: 0 5px 12px rgba(0, 0, 0, 0.12);
      }
      
      .case-image {
        width: 100%;
        height: 90px;
        border-radius: 0;
        
        :global(.nut-image-img) {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
      }
      
      .case-content {
        padding: 10px;
        background: #fff;
      }
      
      .case-title {
        font-size: 13px;
        color: #333;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: block;
        font-weight: 500;
      }
    }
  }
  
  // å¼¹çª—æ ·å¼
  .case-detail-popup {
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  
  .popup-header {
    padding: 16px;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .popup-title {
    font-size: 16px;
    font-weight: bold;
    color: #333;
    flex: 1;
    padding-right: 10px;
  }
  
  .popup-close {
    width: 28px;
    height: 28px;
    font-size: 24px;
    line-height: 24px;
    text-align: center;
    color: #999;
    border-radius: 50%;
    background-color: #f5f5f5;
    
    &:active {
      background-color: #eee;
      color: #666;
    }
  }
  
  .popup-content {
    flex: 1;
    padding: 10px 16px 16px 16px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .case-detail-image {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 12px;
    margin-top: 0;
    margin-bottom: 10px;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
    
    :global(.nut-image-img) {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 12px;
    }
  }
  
  .case-detail-description {
    font-size: 14px;
    font-weight: bold;
    color: #2563EB;
    margin-bottom: 12px;
    display: block;
  }
  
  .case-detail-content {
    font-size: 14px;
    color: #666;
    line-height: 1.6;
    margin-bottom: 20px;
    display: block;
    text-align: justify;
  }
  
  .detail-button {
    margin-top: 20px;
    height: 44px;
    font-size: 15px;
    font-weight: 500;
    border-radius: 8px;
    box-shadow: 0 3px 8px rgba(37, 99, 235, 0.2);
    background: #2563EB;
    color: #fff;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    
    &:active {
      transform: translateY(1px);
      box-shadow: 0 1px 4px rgba(37, 99, 235, 0.2);
      background: #1d4ed8;
    }
  }
===== End of File: components\ShowcaseSection\index.scss =====


===== File: components\ShowcaseSection\index.tsx =====
// src/components/ShowcaseSection/index.tsx
import { useState } from 'react'
import { View, Text } from '@tarojs/components'
import { Image, Popup } from '@nutui/nutui-react-taro'
import Taro from '@tarojs/taro'
import { Showcase } from 'src/services/api/index/indexApi'
import './index.scss'

interface ShowcaseSectionProps {
  showcases: Showcase[];
  title?: string;
  contactPhone?: string;
  onShowToast?: (message: string, type: 'success' | 'fail' | 'warn') => void;
}

const ShowcaseSection: React.FC<ShowcaseSectionProps> = ({
  showcases,
  title = 'ç²¾é€‰æ¡ˆä¾‹',
  contactPhone,
  onShowToast
}) => {
  // çŠ¶æ€ç®¡ç†
  const [showShowcaseDetail, setShowShowcaseDetail] = useState(false);
  const [selectedShowcase, setSelectedShowcase] = useState<Showcase | null>(null);

  // æŸ¥çœ‹æ¡ˆä¾‹è¯¦æƒ…
  const handleShowcaseClick = (showcase: Showcase) => {
    setSelectedShowcase(showcase);
    setShowShowcaseDetail(true);
  };

  // ç”µè¯å’¨è¯¢
  const handleCall = () => {
    if (!contactPhone) return;
    
    Taro.makePhoneCall({
      phoneNumber: contactPhone
    }).catch(err => {
      if (err.errMsg && !err.errMsg.includes('cancel')) {
        onShowToast?.('æ‹¨å·å¤±è´¥', 'fail');
      }
    });
  };

  if (!showcases?.length) {
    return null;
  }

  return (
    <View className='section showcase-section'>
      <View className='section-header'>
        <Text className='section-title'>{title}</Text>
      </View>
      
      <View className='case-container'>
        {/* ä¸»æ¡ˆä¾‹ */}
        <View 
          className='case-feature'
          onClick={() => handleShowcaseClick(showcases[0])}
        >
          <Image 
            src={showcases[0].imageUrl}
            width="100%"
            height="160px"
            className='case-image'
            loading={<View className="case-image-loading"></View>}
            error={<View className="case-image-error"></View>}
          />
          <View className='case-content'>
            <Text className='case-title'>{showcases[0].title}</Text>
            <Text className='case-description'>{showcases[0].description}</Text>
          </View>
        </View>
        
        {/* æ¬¡è¦æ¡ˆä¾‹ç½‘æ ¼ */}
        {showcases.length > 1 && (
          <View className='case-grid'>
            {showcases.slice(1).map(item => (
              <View 
                key={item.id} 
                className='case-item'
                onClick={() => handleShowcaseClick(item)}
              >
                <Image 
                  src={item.imageUrl}
                  width="100%"
                  height="90px"
                  className='case-image'
                  loading={<View className="case-image-loading"></View>}
                  error={<View className="case-image-error"></View>}
                />
                <View className='case-content'>
                  <Text className='case-title'>{item.title}</Text>
                </View>
              </View>
            ))}
          </View>
        )}
      </View>

      {/* æ¡ˆä¾‹è¯¦æƒ…å¼¹çª— */}
      {selectedShowcase && (
        <Popup
          visible={showShowcaseDetail}
          position="bottom"
          round
          onClose={() => setShowShowcaseDetail(false)}
          style={{ height: '70%' }}
        >
          <View className='case-detail-popup'>
            <View className='popup-header'>
              <Text className='popup-title'>{selectedShowcase.title}</Text>
              <View 
                className='popup-close'
                onClick={() => setShowShowcaseDetail(false)}
              >
                Ã—
              </View>
            </View>
            <View className='popup-content'>
              <Image 
                src={selectedShowcase.imageUrl}
                width="100%"
                height="160px"
                className='case-detail-image'
                loading={<View className="case-image-loading"></View>}
                error={<View className="case-image-error"></View>}
              />
              <Text className='case-detail-description'>{selectedShowcase.description}</Text>
              <Text className='case-detail-content'>{selectedShowcase.content}</Text>
              {contactPhone && (
                <View 
                  className='detail-button'
                  onClick={handleCall}
                >
                  å’¨è¯¢æ­¤æ–¹æ¡ˆ
                </View>
              )}
            </View>
          </View>
        </Popup>
      )}
    </View>
  );
};

export default ShowcaseSection;
===== End of File: components\ShowcaseSection\index.tsx =====


===== File: index.html =====
<!DOCTYPE html>
<html>
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width,initial-scale=1,user-scalable=no" name="viewport">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="format-detection" content="telephone=no,address=no">
  <meta name="apple-mobile-web-app-status-bar-style" content="white">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
  <title>waterproof</title>
  <script><%= htmlWebpackPlugin.options.script %></script>
</head>
<body>
  <div id="app"></div>
</body>
</html>
===== End of File: index.html =====


===== File: pages\cases\index.config.ts =====
export default definePageConfig({
  navigationBarTitleText: 'æ¡ˆä¾‹'
})
===== End of File: pages\cases\index.config.ts =====


===== File: pages\cases\index.scss =====
/* æ¡ˆä¾‹é¡µé¢æ ·å¼ */
.cases-page {
  min-height: 100vh;
  background-color: #f7f9fc;
  padding-bottom: env(safe-area-inset-bottom);
  
  /* PageHeaderå®¹å™¨ */
  &-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background-color: #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    margin-top: -1px;
  }

  /* å†…å®¹åŒºåŸŸ */
  &-content {
    padding: 12px;
    padding-top: 98px;
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* æ¡ˆä¾‹åˆ—è¡¨ */
  &-list {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: 16px;
  }

  /* æ¡ˆä¾‹å¡ç‰‡ */
  &-card {
    background-color: #fff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
    transition: all 0.3s ease;
    
    &:active {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(37, 99, 235, 0.15);
    }
    
    &-images {
      width: 100%;
      height: 200px;
      position: relative;
      overflow: hidden;
    }
    
    &-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
      
      &:hover {
        transform: scale(1.05);
      }
    }
    
    &-content {
      padding: 16px 18px;
    }
    
    &-title {
      font-size: 16px;
      font-weight: 600;
      color: #1F2937;
      margin-bottom: 10px;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    &-description {
      font-size: 14px;
      color: #4B5563;
      margin-bottom: 12px;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      height: 42px;
    }
    
    &-date {
      font-size: 13px;
      color: #6B7280;
      display: flex;
      align-items: center;
      
      &::before {
        content: 'ğŸ•';
        margin-right: 5px;
      }
    }
  }

  /* éª¨æ¶å±æ ·å¼ */
  &-skeletons {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: 16px;
  }

  &-skeleton {
    background-color: #fff;
    padding: 0;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
    overflow: hidden;
    
    &-image {
      width: 100%;
      height: 200px;
      background: linear-gradient(90deg, #f2f5fc 25%, #e6ebf5 50%, #f2f5fc 75%);
      background-size: 400% 100%;
      animation: shimmer 1.5s infinite linear;
    }
    
    &-content {
      padding: 16px 18px;
    }
    
    &-title {
      width: 80%;
      height: 24px;
      background: linear-gradient(90deg, #f2f5fc 25%, #e6ebf5 50%, #f2f5fc 75%);
      background-size: 400% 100%;
      animation: shimmer 1.5s infinite linear;
      border-radius: 4px;
      margin-bottom: 12px;
    }
    
    &-desc {
      width: 100%;
      height: 36px;
      background: linear-gradient(90deg, #f2f5fc 25%, #e6ebf5 50%, #f2f5fc 75%);
      background-size: 400% 100%;
      animation: shimmer 1.5s infinite linear;
      border-radius: 4px;
      margin-bottom: 12px;
    }
    
    &-date {
      width: 120px;
      height: 18px;
      background: linear-gradient(90deg, #f2f5fc 25%, #e6ebf5 50%, #f2f5fc 75%);
      background-size: 400% 100%;
      animation: shimmer 1.5s infinite linear;
      border-radius: 4px;
    }
  }
  
  /* åŠ è½½æ›´å¤šæ ·å¼ */
  .loading-more {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px 0;
    
    .loading-text {
      margin-top: 8px;
      font-size: 12px;
      color: #999;
    }
  }
  
  @keyframes shimmer {
    0% {
      background-position: 100% 0;
    }
    100% {
      background-position: -100% 0;
    }
  }

  /* æ¡ˆä¾‹è¯¦æƒ…å¼¹çª—æ ·å¼ */
  &-detail {
    height: 100%;
    display: flex;
    flex-direction: column;
    
    &-header {
      padding: 16px 18px;
      border-bottom: 1px solid #f2f2f2;
      flex-shrink: 0;
    }
    
    &-title {
      font-size: 18px;
      font-weight: 600;
      color: #1F2937;
    }
    
    &-scroll {
      flex: 1;
      height: 0 !important;
      -webkit-overflow-scrolling: touch;
    }
    
    &-content {
      padding: 18px;
    }
    
    &-images {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }
    
    &-image {
      width: 100%;
      height: 130px;
      border-radius: 10px;
      object-fit: cover;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }
    
    /* è§†é¢‘åŒºåŸŸ */
    &-videos {
      margin-bottom: 20px;
    }
    
    &-video {
      width: 100%;
      height: 200px;
      border-radius: 10px;
      margin-bottom: 12px;
      background-color: #000;
    }
    
    &-info {
      padding-bottom: 24px;
    }
    
    &-date {
      font-size: 14px;
      color: #4B5563;
      font-weight: 500;
      padding: 4px 12px;
      background-color: #f5f7fc;
      border-radius: 6px;
      display: inline-flex;
      align-items: center;
      margin-bottom: 18px;
      
      &::before {
        content: 'ğŸ•';
        margin-right: 5px;
      }
    }
    
    &-description {
      font-size: 17px;
      font-weight: 600;
      color: #1F2937;
      margin-bottom: 12px;
    }
    
    &-text {
      font-size: 15px;
      color: #4B5563;
      line-height: 1.6;
      margin-bottom: 24px;
    }
    
    &-button {
      margin-top: 20px;
    }
  }

  /* åŠ¨ç”»æ•ˆæœ */
  &-item {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.4s ease-out forwards;
    
    @for $i from 1 through 10 {
      &-#{$i} {
        animation-delay: $i * 0.05s;
      }
    }
  }

  /* ç©ºçŠ¶æ€æ ·å¼ */
  &-empty {
    padding-top: 60px;
    text-align: center;
    height: 60vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* å“åº”å¼å¸ƒå±€ */
  @media screen and (min-width: 576px) {
    &-list {
      grid-template-columns: repeat(2, 1fr);
    }
    
    &-skeletons {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media screen and (min-width: 768px) {
    &-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      padding-top: 108px;
    }
    
    &-list {
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }
    
    &-skeletons {
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }
  }

  /* è®¾å¤‡é€‚é… */
  @supports (padding-top: constant(safe-area-inset-top)) {
    &-header {
      padding-top: constant(safe-area-inset-top);
    }
    
    &-content {
      padding-top: calc(98px + constant(safe-area-inset-top));
    }
  }

  @supports (padding-top: env(safe-area-inset-top)) {
    &-header {
      padding-top: env(safe-area-inset-top);
    }
    
    &-content {
      padding-top: calc(98px + env(safe-area-inset-top));
    }
  }

  /* å‡å°‘åŠ¨ç”» */
  @media (prefers-reduced-motion: reduce) {
    &-item {
      animation: none;
      opacity: 1;
      transform: none;
    }
    
    .cases-page-skeleton-image,
    .cases-page-skeleton-title,
    .cases-page-skeleton-desc,
    .cases-page-skeleton-date {
      animation: none;
      background: #f2f2f2;
    }
  }
}

/* åŠ¨ç”»å…³é”®å¸§ */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
===== End of File: pages\cases\index.scss =====


===== File: pages\cases\index.tsx =====
// pages/cases/index.tsx
import { useState, useCallback, useEffect, useMemo, useRef } from 'react'
import { View, Text, Image, ScrollView, Video } from '@tarojs/components'
import Taro, { useDidShow, useShareAppMessage } from '@tarojs/taro'
import { 
  Button,
  Empty, 
  InfiniteLoading,
  Popup,
  Toast,
  Loading
} from '@nutui/nutui-react-taro'
import './index.scss'

// Import PageHeader component
import PageHeader from 'src/components/PageHeader';

// Import API and types
import { 
  CaseData, 
  CaseQueryParams 
} from 'src/services/api/cases/types'
import {
  getCases,
  getCaseDetail,
  handleCasesError,
  CITY_TYPES,
  PAGE_SIZE
} from 'src/services/api/cases/casesApi'

export default function CasesPage() {
  // çŠ¶æ€ç®¡ç†
  const [loading, setLoading] = useState(true);
  const [cases, setCases] = useState<CaseData[]>([]);
  const [currentCity, setCurrentCity] = useState<string>('all');
  const [keyword, setKeyword] = useState('');
  const [selectedCase, setSelectedCase] = useState<CaseData | null>(null);
  const [showDetail, setShowDetail] = useState(false);
  const [page, setPage] = useState(1);
  const [hasMore, setHasMore] = useState(true);
  const [showToast, setShowToast] = useState(false);
  const [toastMsg, setToastMsg] = useState('');
  const [toastType, setToastType] = useState<'success' | 'fail' | 'warn'>('fail');

  // Component mount state tracking
  const isMounted = useRef(true);
  
  useEffect(() => {
    return () => {
      isMounted.current = false;
    };
  }, []);

  // åˆ†äº«åŠŸèƒ½
  useShareAppMessage(() => ({
    title: 'éƒ‘å¼ä¿®ç¼®é˜²æ°´å·¥ç¨‹æ¡ˆä¾‹',
    path: '/pages/cases/index',
    imageUrl: cases.length > 0 ? cases[0].images[0] : undefined,
  }));

  // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
  const showToastMessage = useCallback((message: string, type: 'success' | 'fail' | 'warn' = 'fail') => {
    if (!isMounted.current) return;
    setToastMsg(message);
    setToastType(type);
    setShowToast(true);
  }, []);

  // åŠ è½½æ¡ˆä¾‹æ•°æ®
  const loadCases = useCallback(
    async (isRefresh = false) => {
      try {
        const currentPage = isRefresh ? 1 : page;
        
        if (isRefresh) {
          setLoading(true);
        }

        const res = await getCases({
          city: currentCity,
          keyword,
          page: currentPage,
          pageSize: PAGE_SIZE,
        });

        if (!isMounted.current) return;

        if (res.success) {
          const responseData = res.data || [];
          
          if (isRefresh) {
            setCases(responseData);
            setPage(1);
          } else {
            setCases(prev => [...prev, ...responseData]);
            setPage(prev => prev + 1);
          }
          
          setHasMore(res.hasMore || false);
        } else {
          showToastMessage(res.error || 'è·å–æ¡ˆä¾‹åˆ—è¡¨å¤±è´¥');
        }
      } catch (err) {
        if (!isMounted.current) return;
        showToastMessage(handleCasesError(err));
      } finally {
        if (!isMounted.current) return;
        setLoading(false);
      }
    },
    [currentCity, keyword, page, showToastMessage]
  );

  // åŸå¸‚æˆ–å…³é”®è¯å˜åŒ–æ—¶åŠ è½½æ¡ˆä¾‹
  useEffect(() => {
    loadCases(true);
  }, [currentCity, keyword]);

  // é¡µé¢æ˜¾ç¤ºæ—¶æ£€æŸ¥æ•°æ®
  useDidShow(() => {
    if (cases.length === 0 && !loading) {
      loadCases(true);
    }
  });

  // å¤„ç†æœç´¢è¾“å…¥å˜åŒ–
  const handleSearch = useCallback((value: string) => {
    setKeyword(value);
  }, []);

  // å¤„ç†åŸå¸‚å˜åŒ–
  const handleCityChange = useCallback((value: string) => {
    setCurrentCity(value);
  }, []);

  // å¤„ç†åŠ è½½æ›´å¤š
  const handleLoadMore = useCallback(() => {
    if (hasMore && !loading) {
      return loadCases(false);
    }
    return Promise.resolve();
  }, [hasMore, loading, loadCases]);

  // å¤„ç†æ¡ˆä¾‹ç‚¹å‡»
  const handleCaseClick = useCallback(async (id: number) => {
    try {
      setLoading(true);
      const res = await getCaseDetail(id);
      
      if (!isMounted.current) return;
      
      if (res.success && res.data) {
        setSelectedCase(res.data);
        setShowDetail(true);
      } else {
        showToastMessage(res.error || 'è·å–æ¡ˆä¾‹è¯¦æƒ…å¤±è´¥');
      }
    } catch (err) {
      if (!isMounted.current) return;
      showToastMessage(handleCasesError(err));
    } finally {
      if (!isMounted.current) return;
      setLoading(false);
    }
  }, [showToastMessage]);

  // å¤„ç†é¢„çº¦æœåŠ¡
  const handleBook = useCallback(async (data: CaseData) => {
    try {
      await Taro.setStorage({
        key: 'selected_case',
        data,
      });
      showToastMessage('å·²æ·»åŠ åˆ°å’¨è¯¢åˆ—è¡¨', 'success');
      setTimeout(() => {
        if (isMounted.current) {
          Taro.switchTab({
            url: '/pages/contact/index',
          });
        }
      }, 1500);
    } catch (err) {
      if (!isMounted.current) return;
      showToastMessage(handleCasesError(err));
    }
  }, [showToastMessage]);

  // éª¨æ¶å±UI
  const renderSkeletons = useMemo(() => {
    return (
      <View className="cases-page-skeletons">
        {[1, 2, 3].map((i) => (
          <View key={i} className="cases-page-skeleton">
            <View className="cases-page-skeleton-image"></View>
            <View className="cases-page-skeleton-content">
              <View className="cases-page-skeleton-title"></View>
              <View className="cases-page-skeleton-desc"></View>
              <View className="cases-page-skeleton-date"></View>
            </View>
          </View>
        ))}
      </View>
    );
  }, []);

  // æ ¼å¼åŒ–æ—¥æœŸå­—ç¬¦ä¸²
  const formatDate = useCallback((dateString: string) => {
    const date = new Date(dateString);
    return `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
  }, []);

  return (
    <View className="cases-page">
      {/* ä½¿ç”¨å®¹å™¨åŒ…è£¹PageHeader */}
      <View className="cases-page-header">
        <PageHeader
          keyword={keyword}
          onSearch={handleSearch}
          searchPlaceholder="æœç´¢åŸå¸‚æ¡ˆä¾‹"
          currentType={currentCity}
          onTypeChange={handleCityChange}
          tabs={CITY_TYPES}
        />
      </View>

      {/* å†…å®¹ */}
      <View className="cases-page-content">
        {/* åŠ è½½éª¨æ¶å± */}
        {loading && cases.length === 0 ? (
          renderSkeletons
        ) : cases.length > 0 ? (
          <View className="cases-page-list">
            {cases.map((item, index) => (
              <View key={item.id} className={`cases-page-item cases-page-item-${index + 1}`}>
                <View className="cases-page-card" onClick={() => handleCaseClick(item.id)}>
                  <View className="cases-page-card-images">
                    <Image 
                      src={item.images[0]} 
                      className="cases-page-card-image"
                      mode="aspectFill"
                      lazyLoad
                    />
                  </View>
                  <View className="cases-page-card-content">
                    <View className="cases-page-card-title">{item.title}</View>
                    <View className="cases-page-card-description">{item.description}</View>
                    <View className="cases-page-card-date">æ–½å·¥æ—¶é—´: {formatDate(item.date)}</View>
                  </View>
                </View>
              </View>
            ))}
          </View>
        ) : (
          <View className="cases-page-empty">
            <Empty description="æš‚æ— ç›¸å…³æ¡ˆä¾‹" image="empty" />
          </View>
        )}

        {/* æ— é™åŠ è½½ */}
        {cases.length > 0 && (
          <InfiniteLoading
            hasMore={hasMore}
            threshold={200}
            loadingText="åŠ è½½ä¸­..."
            loadMoreText="å·²ç»åˆ°åº•å•¦"
            onLoadMore={handleLoadMore}
          />
        )}
      </View>

      {/* æ¡ˆä¾‹è¯¦æƒ…å¼¹çª— */}
      <Popup
        visible={showDetail}
        position="bottom"
        round
        style={{ height: '80%' }}
        onClose={() => setShowDetail(false)}
      >
        {selectedCase && (
          <View className="cases-page-detail">
            {/* å›ºå®šé«˜åº¦çš„å¤´éƒ¨ */}
            <View className="cases-page-detail-header">
              <View className="cases-page-detail-title">{selectedCase.title}</View>
            </View>
            
            {/* æ»šåŠ¨å†…å®¹åŒºåŸŸ */}
            <ScrollView 
              scrollY
              className="cases-page-detail-scroll"
              enhanced={false}
              showScrollbar={false}
            >
              <View className="cases-page-detail-content">
                <View className="cases-page-detail-images">
                  {selectedCase.images.map((img, idx) => (
                    <Image 
                      key={idx} 
                      src={img} 
                      className="cases-page-detail-image"
                      mode="aspectFill"
                      lazyLoad
                      onClick={() => {
                        Taro.previewImage({
                          current: img,
                          urls: selectedCase.images
                        });
                      }}
                    />
                  ))}
                </View>
                
                {/* è§†é¢‘åŒºåŸŸ */}
                {selectedCase.videos && selectedCase.videos.length > 0 && (
                  <View className="cases-page-detail-videos">
                    {selectedCase.videos.map((video, idx) => (
                      <Video 
                        key={idx}
                        src={video}
                        className="cases-page-detail-video"
                        controls
                        showFullscreenBtn
                        showPlayBtn
                        autoplay={false}
                      />
                    ))}
                  </View>
                )}
                
                <View className="cases-page-detail-info">
                  <View className="cases-page-detail-date">
                    æ–½å·¥æ—¶é—´: {formatDate(selectedCase.date)}
                  </View>
                  <View className="cases-page-detail-description">é¡¹ç›®æ¦‚è¿°</View>
                  <View className="cases-page-detail-text">{selectedCase.content}</View>
                  <Button 
                    type="primary" 
                    block
                    shape="round"
                    className="cases-page-detail-button"
                    onClick={() => handleBook(selectedCase)}
                  >
                    å’¨è¯¢ç±»ä¼¼æ–¹æ¡ˆ
                  </Button>
                </View>
              </View>
            </ScrollView>
          </View>
        )}
      </Popup>

      {/* Toastç»„ä»¶ */}
      <Toast
        msg={toastMsg}
        visible={showToast}
        type={toastType}
        onClose={() => setShowToast(false)}
        duration={2000}
        position="center"
        closeOnOverlayClick
      />
    </View>
  );
}
===== End of File: pages\cases\index.tsx =====


===== File: pages\index\index.config.ts =====
export default {
  navigationBarTitleText: 'éƒ‘å¼ä¿®ç¼®',
  enablePullDownRefresh: true,
  backgroundColor: '#f5f5f5',
  backgroundTextStyle: 'dark',
  navigationBarBackgroundColor: '#ffffff',
  navigationBarTextStyle: 'black'
}
===== End of File: pages\index\index.config.ts =====


===== File: pages\index\index.scss =====
/* é˜²æ°´æœåŠ¡å°ç¨‹åºæ ·å¼ */

// é¡µé¢æ•´ä½“æ ·å¼
.page {
  background-color: #f5f7fa;
  min-height: 100vh;
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
}

// åŠ è½½çŠ¶æ€
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  
  .loading-text {
    margin-top: 12px;
    color: #666;
    font-size: 14px;
  }
}
===== End of File: pages\index\index.scss =====


===== File: pages\index\index.tsx =====
// pages/index/index.tsx
import { useEffect, useState } from 'react'
import { View, Text } from '@tarojs/components'
import { Toast, Loading } from '@nutui/nutui-react-taro'
import Taro from '@tarojs/taro'
import './index.scss'

// å¯¼å…¥ç»„ä»¶
import BannerCarousel from 'src/components/BannerCarousel'
import QuickContact from 'src/components/QuickContact'
import ServiceSection from 'src/components/ServiceSection'
import ShowcaseSection from 'src/components/ShowcaseSection'

// ç›´æ¥å¯¼å…¥APIå’Œç±»å‹
import { IndexData } from 'src/services/api/index/types'
import { getIndexData, handleIndexError } from 'src/services/api/index/indexApi'

export default function IndexPage() {
  // çŠ¶æ€ç®¡ç†
  const [loading, setLoading] = useState(true)
  const [indexData, setIndexData] = useState<IndexData | null>(null)
  const [showToast, setShowToast] = useState(false)
  const [toastMsg, setToastMsg] = useState('')
  const [toastType, setToastType] = useState<'success' | 'fail' | 'warn'>('success')
  
  // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
  const showToastMessage = (message: string, type: 'success' | 'fail' | 'warn' = 'success') => {
    if (showToast) {
      setShowToast(false)
      setTimeout(() => {
        setToastMsg(message)
        setToastType(type)
        setShowToast(true)
      }, 100)
    } else {
      setToastMsg(message)
      setToastType(type)
      setShowToast(true)
    }
  }
  
  // è·å–æ•°æ®
  useEffect(() => {
    const fetchData = async () => {
      setLoading(true)
      
      try {
        // è·å–æ‰€æœ‰é¦–é¡µæ•°æ®
        const result = await getIndexData()
        
        if (result.success && result.data) {
          setIndexData(result.data)
        } else {
          showToastMessage(result.error || 'è·å–é¦–é¡µæ•°æ®å¤±è´¥', 'fail')
        }
      } catch (error) {
        console.error('åŠ è½½æ•°æ®å¤±è´¥:', error)
        showToastMessage(handleIndexError(error), 'fail')
      } finally {
        setLoading(false)
      }
    }
    
    fetchData()
  }, [])
  
  // ä¸‹æ‹‰åˆ·æ–°å¤„ç†
  useEffect(() => {
    Taro.eventCenter.on('pullDownRefresh', async () => {
      try {
        // åˆ·æ–°é¦–é¡µæ•°æ®
        const result = await getIndexData()
        
        if (result.success && result.data) {
          setIndexData(result.data)
          showToastMessage('åˆ·æ–°æˆåŠŸ', 'success')
        } else {
          showToastMessage(result.error || 'åˆ·æ–°æ•°æ®å¤±è´¥', 'fail')
        }
      } catch (error) {
        showToastMessage(handleIndexError(error), 'fail')
      } finally {
        Taro.stopPullDownRefresh()
      }
    })
    
    return () => {
      Taro.eventCenter.off('pullDownRefresh')
    }
  }, [])
  
  // åŠ è½½çŠ¶æ€
  if (loading || !indexData) {
    return (
      <View className='loading-container'>
        <Loading type='spinner' />
        <Text className='loading-text'>åŠ è½½ä¸­...</Text>
      </View>
    )
  }
  
  return (
    <View className='page'>
      {/* BanneråŒºåŸŸ */}
      <BannerCarousel banners={indexData.banners} />
      
      {/* å¿«é€Ÿè”ç³» */}
      <QuickContact 
        contactInfo={indexData.contactInfo}
        onShowToast={showToastMessage}
      />
      
      {/* æœåŠ¡åˆ†ç±» */}
      <ServiceSection services={indexData.services} />
      
      {/* ç²¾é€‰æ¡ˆä¾‹ */}
      <ShowcaseSection 
        showcases={indexData.showcases}
        contactPhone={indexData.contactInfo.phone}
        onShowToast={showToastMessage}
      />
      
      {/* Toastç»„ä»¶ */}
      <Toast
        msg={toastMsg}
        visible={showToast}
        type={toastType}
        onClose={() => setShowToast(false)}
        duration={2000}
        position='center'
        closeOnOverlayClick
      />
    </View>
  )
}
===== End of File: pages\index\index.tsx =====


===== File: services\api\cases\casesApi.ts =====
// services/api/cases/casesApi.ts
import { CaseData, CaseQueryParams, CaseApiResponse, CasesApiResponse } from './types';
import { mockCases, PAGE_SIZE, CITY_TYPES } from './data';

// APIç«¯ç‚¹
const ENDPOINTS = {
  GET_CASES: '/cases',
  GET_CASE_DETAIL: '/cases/:id',
};

/**
 * è·å–æ¡ˆä¾‹åˆ—è¡¨
 */
export const getCases = async ({
  city,
  keyword,
  page,
  pageSize
}: CaseQueryParams): Promise<CasesApiResponse> => {
  try {
    // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
    await new Promise(resolve => setTimeout(resolve, 800));
    
    // è¿‡æ»¤æ¨¡æ‹Ÿæ•°æ®
    let filteredData = mockCases.filter(item => {
      if (city !== 'all' && item.city !== city) return false;
      if (keyword && !item.title.includes(keyword) && !item.description.includes(keyword) && !item.city.includes(keyword)) return false;
      return true;
    });
    
    // åˆ†é¡µ
    const startIndex = (page - 1) * pageSize;
    const endIndex = startIndex + pageSize;
    const paginatedData = filteredData.slice(startIndex, endIndex);
    
    // åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®
    const hasMore = endIndex < filteredData.length;
    
    return {
      success: true,
      data: paginatedData,
      hasMore
    };
  } catch (error: any) {
    return {
      success: false,
      error: error.message || 'è·å–æ¡ˆä¾‹åˆ—è¡¨å¤±è´¥',
      data: []
    };
  }
};

/**
 * æ ¹æ®IDè·å–æ¡ˆä¾‹è¯¦æƒ…
 */
export const getCaseDetail = async (id: number): Promise<CaseApiResponse<CaseData>> => {
  try {
    // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
    await new Promise(resolve => setTimeout(resolve, 500));
    
    // æŸ¥æ‰¾æ¡ˆä¾‹
    const caseItem = mockCases.find(item => item.id === id);
    
    if (caseItem) {
      return {
        success: true,
        data: caseItem
      };
    } else {
      throw new Error('æ¡ˆä¾‹ä¸å­˜åœ¨');
    }
  } catch (error: any) {
    return {
      success: false,
      error: error.message || 'è·å–æ¡ˆä¾‹è¯¦æƒ…å¤±è´¥'
    };
  }
};

/**
 * é”™è¯¯å¤„ç†å·¥å…·
 */
export const handleCasesError = (err: any): string => {
  console.error(err);
  return err instanceof Error ? err.message : 'å‘ç”ŸæœªçŸ¥é”™è¯¯';
};

// ç›´æ¥å¯¼å‡ºå¸¸é‡
export { mockCases, PAGE_SIZE, CITY_TYPES };

// å¯¼å‡ºç±»å‹
export * from './types';
export * from './data';
===== End of File: services\api\cases\casesApi.ts =====


===== File: services\api\cases\data.ts =====
// services/api/cases/data.ts

import { CaseData } from './types';

// åŸå¸‚åˆ—è¡¨å¸¸é‡
export const CITY_TYPES = [
  { title: 'å…¨éƒ¨åŸå¸‚', value: 'all' },
  { title: 'åŒ—äº¬', value: 'åŒ—äº¬' },
  { title: 'ä¸Šæµ·', value: 'ä¸Šæµ·' },
  { title: 'å¹¿å·', value: 'å¹¿å·' },
  { title: 'æ·±åœ³', value: 'æ·±åœ³' },
  { title: 'æˆéƒ½', value: 'æˆéƒ½' },
  { title: 'æ­å·', value: 'æ­å·' },
  { title: 'éƒ‘å·', value: 'éƒ‘å·' },

];

// åˆ†é¡µå¤§å°å¸¸é‡
export const PAGE_SIZE = 10;

// æ¨¡æ‹Ÿæ•°æ®
export const mockCases: CaseData[] = [
  {
    id: 1,
    title: 'æµ·ç åŒºæŸå°åŒºåœ°ä¸‹è½¦åº“é˜²æ°´å·¥ç¨‹',
    city: 'å¹¿å·',
    description: 'ä¸ºå°åŒºåœ°ä¸‹è½¦åº“è¿›è¡Œå…¨é¢é˜²æ°´å¤„ç†ï¼Œè§£å†³äº†é•¿æœŸæ¸—æ°´é—®é¢˜ï¼Œç¡®ä¿è½¦åº“ç¯å¢ƒå¹²ç‡¥å®‰å…¨ã€‚',
    date: '2024-08-15',
    images: [
      'https://storage.360buyimg.com/jdc-article/NutUItaro34.jpg',
      'https://storage.360buyimg.com/jdc-article/NutUItaro2.jpg'
    ],
    videos: [
      'https://example.com/video1.mp4'
    ],
    content: 'è¯¥å°åŒºåœ°ä¸‹è½¦åº“å»ºäº2010å¹´ï¼Œç”±äºé˜²æ°´å±‚è€åŒ–ï¼Œå¯¼è‡´é›¨å­£ç»å¸¸å‡ºç°æ¸—æ°´ç°è±¡ï¼Œå½±å“è½¦è¾†åœæ”¾å’Œå±…æ°‘å‡ºè¡Œã€‚æˆ‘ä»¬é‡‡ç”¨äº†åŒå±‚é˜²æ°´è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨é«˜å¼¹æ€§é˜²æ°´æ¶‚æ–™ç»“åˆé˜²æ°´å·æï¼Œå®Œå…¨è§£å†³äº†æ¸—æ¼é—®é¢˜ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¼˜åŒ–äº†æ’æ°´ç³»ç»Ÿï¼Œæé«˜äº†æ’æ°´æ•ˆç‡ã€‚æœ¬é¡¹ç›®è¦†ç›–é¢ç§¯è¾¾2000å¹³æ–¹ç±³ï¼Œå·¥æœŸ30å¤©ï¼Œä¸šä¸»åé¦ˆéå¸¸æ»¡æ„ã€‚'
  },
  {
    id: 2,
    title: 'æµ¦ä¸œæ–°åŒºé«˜å±‚å»ºç­‘å¤–å¢™é˜²æ°´é¡¹ç›®',
    city: 'ä¸Šæµ·',
    description: 'ä¸ºé«˜å±‚å»ºç­‘å¤–å¢™è¿›è¡Œé˜²æ°´å¤„ç†ï¼Œæœ‰æ•ˆè§£å†³äº†é›¨å¤©æ¸—æ°´é—®é¢˜ï¼Œä¿æŠ¤å»ºç­‘ç»“æ„ã€‚',
    date: '2024-07-20',
    images: [
      'https://storage.360buyimg.com/jdc-article/welcomenutui.jpg',
      'https://storage.360buyimg.com/jdc-article/welcomenutui.jpg'
    ],
    content: 'è¯¥é«˜å±‚å»ºç­‘å¤–å¢™åœ¨å¼ºé™é›¨å¤©æ°”æ¡ä»¶ä¸‹ï¼Œå¤šå¤„å‡ºç°æ¸—æ¼ï¼Œå½±å“å®¤å†…ä½¿ç”¨åŠå»ºç­‘å¯¿å‘½ã€‚æˆ‘ä»¬å¯¹æ•´ä¸ªå¤–å¢™è¿›è¡Œäº†å…¨é¢æ£€æµ‹ï¼Œæ‰¾å‡ºæ‰€æœ‰æ¸—æ¼ç‚¹ï¼Œé‡‡ç”¨çº³ç±³é˜²æ°´ææ–™è¿›è¡Œä¿®å¤å’Œé˜²æŠ¤ã€‚å·¥ç¨‹å†æ—¶45å¤©ï¼Œé¢ç§¯è¾¾3500å¹³æ–¹ç±³ï¼Œç›®å‰å·²åº¦è¿‡å¤šæ¬¡æš´é›¨è€ƒéªŒï¼Œé˜²æ°´æ•ˆæœè‰¯å¥½ã€‚'
  },
  {
    id: 3,
    title: 'æœé˜³åŒºåˆ«å¢…å±‹é¡¶é˜²æ°´å·¥ç¨‹',
    city: 'åŒ—äº¬',
    description: 'ä¸ºé«˜æ¡£åˆ«å¢…åŒºè¿›è¡Œå±‹é¡¶é˜²æ°´æ–½å·¥ï¼Œç¡®ä¿é˜²æ°´æ•ˆæœé•¿è¾¾15å¹´ä»¥ä¸Šã€‚',
    date: '2024-09-05',
    images: [
      'https://storage.360buyimg.com/jdc-article/NutUItaro2.jpg',
      'https://storage.360buyimg.com/jdc-article/welcomenutui.jpg'
    ],
    videos: [
      'https://example.com/video2.mp4',
      'https://example.com/video3.mp4'
    ],
    content: 'åˆ«å¢…åŒºå…±æœ‰5æ ‹ç‹¬æ ‹åˆ«å¢…ï¼Œå‡ä¸ºå¡å±‹é¡¶è®¾è®¡ï¼ŒåŸæœ‰é˜²æ°´å±‚ä½¿ç”¨æœŸå·²è¶…è¿‡10å¹´ï¼Œå¤šå¤„å‡ºç°è€åŒ–å’Œç ´æŸã€‚æˆ‘ä»¬é‡‡ç”¨äº†è¿›å£é˜²æ°´ææ–™ï¼Œå¯¹å±‹é¡¶è¿›è¡Œå…¨é¢ç¿»æ–°ï¼Œå¹¶ä¼˜åŒ–äº†å±‹é¡¶æ’æ°´ç³»ç»Ÿã€‚æœ¬å·¥ç¨‹å·¥æœŸ15å¤©ï¼Œè¦†ç›–æ€»é¢ç§¯300å¹³æ–¹ç±³ï¼Œé˜²æ°´è´¨ä¿15å¹´ï¼Œå½»åº•è§£å†³äº†å±‹é¡¶æ¼æ°´çš„å›°æ‰°ã€‚'
  },
  {
    id: 4,
    title: 'ç¦ç”°åŒºå•†åœºå«ç”Ÿé—´é˜²æ°´æ•´ä½“è§£å†³æ–¹æ¡ˆ',
    city: 'æ·±åœ³',
    description: 'ä¸ºå¤§å‹å•†åœºæä¾›å«ç”Ÿé—´é˜²æ°´æ•´ä½“è§£å†³æ–¹æ¡ˆï¼Œä»æ ¹æºè§£å†³æ¼æ°´é—®é¢˜ã€‚',
    date: '2024-06-10',
    images: [
      'https://storage.360buyimg.com/jdc-article/NutUItaro34.jpg',
      'https://storage.360buyimg.com/jdc-article/NutUItaro2.jpg'
    ],
    content: 'è¯¥å•†åœºå«ç”Ÿé—´é•¿æœŸå­˜åœ¨æ¸—æ¼é—®é¢˜ï¼Œå½±å“äº†ä¸‹å±‚å•†é“ºçš„æ­£å¸¸ç»è¥ã€‚æˆ‘ä»¬é‡‡ç”¨äº†é˜²æ°´æ•´ä½“è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ‹†é™¤åŸæœ‰åœ°ç –å’Œå¢™ç –ï¼Œé“ºè®¾é«˜å“è´¨é˜²æ°´ææ–™ï¼Œé‡æ–°å®‰è£…ç®¡é“å’Œæ´å…·ï¼Œç¡®ä¿é˜²æ°´æ•ˆæœã€‚æ•´ä¸ªå·¥ç¨‹å†æ—¶20å¤©ï¼Œæ‰€æœ‰å«ç”Ÿé—´æ¢å¤ä½¿ç”¨åå†æ— æ¸—æ¼ç°è±¡å‘ç”Ÿã€‚'
  },
  {
    id: 5,
    title: 'æ­¦ä¾¯åŒºå­¦æ ¡æ“åœºçœ‹å°é˜²æ°´å·¥ç¨‹',
    city: 'æˆéƒ½',
    description: 'ä¸ºå­¦æ ¡æ“åœºçœ‹å°è¿›è¡Œé˜²æ°´å¤„ç†ï¼Œç¡®ä¿å­¦ç”Ÿæ´»åŠ¨å®‰å…¨ã€‚',
    date: '2024-05-18',
    images: [
      'https://storage.360buyimg.com/jdc-article/welcomenutui.jpg',
      'https://storage.360buyimg.com/jdc-article/NutUItaro34.jpg'
    ],
    content: 'å­¦æ ¡æ“åœºçœ‹å°ä¸‹æ–¹ç©ºé—´è¢«ç”¨ä½œå™¨æå®¤ï¼ŒåŸæœ‰é˜²æ°´æªæ–½è€åŒ–å¯¼è‡´é›¨æ°´æ¸—æ¼ï¼Œå½±å“å™¨æå­˜æ”¾ã€‚æˆ‘ä»¬å¯¹çœ‹å°è¡¨é¢è¿›è¡Œäº†å…¨é¢é˜²æ°´å¤„ç†ï¼Œé‡‡ç”¨è€ç£¨é˜²æ°´ææ–™ï¼Œç¡®ä¿é˜²æ°´æ•ˆæœçš„åŒæ—¶å¢åŠ äº†é˜²æ»‘åŠŸèƒ½ï¼Œæé«˜å­¦ç”Ÿæ´»åŠ¨å®‰å…¨æ€§ã€‚å·¥ç¨‹é¢ç§¯1200å¹³æ–¹ç±³ï¼Œå†æ—¶25å¤©å®Œæˆï¼Œç›®å‰å·²ç»è¿‡å¤šæ¬¡é›¨å­£è€ƒéªŒï¼Œæ•ˆæœè‰¯å¥½ã€‚'
  },
  {
    id: 6,
    title: 'è¥¿æ¹–åŒºåŒ»é™¢åœ°ä¸‹å®¤é˜²æ°´å·¥ç¨‹',
    city: 'æ­å·',
    description: 'ä¸ºåŒ»é™¢åœ°ä¸‹å®¤æä¾›ä¸“ä¸šé˜²æ°´è§£å†³æ–¹æ¡ˆï¼Œä¿éšœåŒ»ç–—è®¾å¤‡å®‰å…¨è¿è¡Œã€‚',
    date: '2024-04-30',
    images: [
      'https://storage.360buyimg.com/jdc-article/NutUItaro2.jpg',
      'https://storage.360buyimg.com/jdc-article/welcomenutui.jpg'
    ],
    videos: [
      'https://example.com/video4.mp4'
    ],
    content: 'åŒ»é™¢åœ°ä¸‹å®¤å­˜æ”¾äº†å¤§é‡é‡è¦åŒ»ç–—è®¾å¤‡å’Œè¯å“ï¼Œå¯¹é˜²æ°´è¦æ±‚æé«˜ã€‚æˆ‘ä»¬é‡‡ç”¨äº†æœ€å…ˆè¿›çš„é˜²æ°´æŠ€æœ¯å’Œææ–™ï¼Œå¯¹æ•´ä¸ªåœ°ä¸‹å®¤è¿›è¡Œäº†å…¨é¢é˜²æ°´å¤„ç†ã€‚å·¥ç¨‹è¦†ç›–é¢ç§¯1800å¹³æ–¹ç±³ï¼Œå†æ—¶35å¤©ï¼Œé‡‡ç”¨äº†ä¸‰å±‚é˜²æŠ¤æªæ–½ï¼Œç¡®ä¿å³ä½¿åœ¨æç«¯å¤©æ°”æ¡ä»¶ä¸‹ä¹Ÿä¸ä¼šå‡ºç°æ¸—æ¼ç°è±¡ã€‚'
  },
  {
    id: 7,
    title: 'æ­£å¤§ä¸€é™„é™¢åŒ»é™¢åœ°ä¸‹å®¤é˜²æ°´å·¥ç¨‹',
    city: 'éƒ‘å·',
    description: 'ä¸ºåŒ»é™¢åœ°ä¸‹å®¤æä¾›ä¸“ä¸šé˜²æ°´è§£å†³æ–¹æ¡ˆï¼Œä¿éšœåŒ»ç–—è®¾å¤‡å®‰å…¨è¿è¡Œã€‚',
    date: '2024-04-30',
    images: [
      'https://storage.360buyimg.com/jdc-article/NutUItaro2.jpg',
      'https://storage.360buyimg.com/jdc-article/welcomenutui.jpg'
    ],
    videos: [
      'https://example.com/video4.mp4'
    ],
    content: 'åŒ»é™¢åœ°ä¸‹å®¤å­˜æ”¾äº†å¤§é‡é‡è¦åŒ»ç–—è®¾å¤‡å’Œè¯å“ï¼Œå¯¹é˜²æ°´è¦æ±‚æé«˜ã€‚æˆ‘ä»¬é‡‡ç”¨äº†æœ€å…ˆè¿›çš„é˜²æ°´æŠ€æœ¯å’Œææ–™ï¼Œå¯¹æ•´ä¸ªåœ°ä¸‹å®¤è¿›è¡Œäº†å…¨é¢é˜²æ°´å¤„ç†ã€‚å·¥ç¨‹è¦†ç›–é¢ç§¯1800å¹³æ–¹ç±³ï¼Œå†æ—¶35å¤©ï¼Œé‡‡ç”¨äº†ä¸‰å±‚é˜²æŠ¤æªæ–½ï¼Œç¡®ä¿å³ä½¿åœ¨æç«¯å¤©æ°”æ¡ä»¶ä¸‹ä¹Ÿä¸ä¼šå‡ºç°æ¸—æ¼ç°è±¡ã€‚'
  }
];
===== End of File: services\api\cases\data.ts =====


===== File: services\api\cases\types.ts =====
// services/api/cases/types.ts

// æ¡ˆä¾‹æ•°æ®æ¥å£
export interface CaseData {
  id: number;
  title: string;
  city: string; // åŸå¸‚ï¼Œæ›¿ä»£åŸæ¥çš„type
  description: string;
  date: string; // æ–½å·¥æ—¶é—´
  images: string[];
  videos?: string[]; // è§†é¢‘åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰
  content: string;
}

// æ¡ˆä¾‹æŸ¥è¯¢å‚æ•°
export interface CaseQueryParams {
  city: string; // åŸå¸‚ç­›é€‰ï¼Œæ›¿ä»£åŸæ¥çš„type
  keyword: string;
  page: number;
  pageSize: number;
}

// æ¡ˆä¾‹APIå“åº”åŸºç¡€æ¥å£
export interface CaseApiResponse<T> {
  success: boolean;
  data?: T;
  error?: string;
}

// æ¡ˆä¾‹åˆ—è¡¨APIå“åº”
export interface CasesApiResponse extends CaseApiResponse<CaseData[]> {
  hasMore?: boolean;
}
===== End of File: services\api\cases\types.ts =====


===== File: services\api\index\data.ts =====
// services/api/index/data.ts
import { IndexData } from './types';

// é¦–é¡µæ¨¡æ‹Ÿæ•°æ®
export const indexData: IndexData = {
  // æœåŠ¡æ•°æ® - ä¿®æ”¹ä¸ºæ–°çš„å››é¡¹æœåŠ¡
  services: [
    {
      id: 1,
      title: 'æ¼æ°´æ£€æµ‹',
      description: 'ä¸“ä¸šæ£€æµ‹æŠ€æœ¯ï¼Œç²¾å‡†å®šä½æ¼æ°´ç‚¹'
    },
    {
      id: 2,
      title: 'é˜²æ°´æ–½å·¥',
      description: 'é«˜æ ‡å‡†é˜²æ°´å·¥ç¨‹ï¼Œæœç»åé¡¾ä¹‹å¿§'
    },
    {
      id: 3,
      title: 'æ¸—æ¼ç»´ä¿®',
      description: 'å¿«é€Ÿåº”å¯¹å„ç±»æ¸—æ¼é—®é¢˜ï¼ŒåŠæ—¶ä¿®å¤'
    },
    {
      id: 4,
      title: 'ææ–™é”€å”®',
      description: 'ä¼˜è´¨é˜²æ°´ææ–™ï¼Œä¸“ä¸šæŠ€æœ¯æ”¯æŒ'
    }
  ],
  
  // ç²¾é€‰æ¡ˆä¾‹æ•°æ®
  showcases: [
    {
      id: '1',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'åŸå¸‚èŠ±å›­å°åŒºå±‹é¡¶é˜²æ°´å·¥ç¨‹',
      description: 'è§£å†³å±‹é¡¶é•¿æœŸæ¸—æ°´é—®é¢˜ï¼Œé‡‡ç”¨æœ€æ–°é˜²æ°´ææ–™ï¼Œ5å¹´è´¨ä¿',
      content: 'åŸå¸‚èŠ±å›­å°åŒºå»ºäº2010å¹´ï¼Œå±‹é¡¶é•¿æœŸå­˜åœ¨æ¸—æ°´é—®é¢˜ï¼Œå½±å“å±…æ°‘æ­£å¸¸ç”Ÿæ´»ã€‚æˆ‘ä»¬ä½¿ç”¨é«˜åˆ†å­é˜²æ°´å·æå¯¹å±‹é¡¶è¿›è¡Œå…¨é¢é˜²æ°´å¤„ç†ï¼Œå¹¶å¢åŠ äº†æ’æ°´ç³»ç»Ÿæ”¹é€ ï¼Œå½»åº•è§£å†³äº†æ¼æ°´é—®é¢˜ã€‚è¯¥å·¥ç¨‹è¦†ç›–é¢ç§¯è¾¾2000å¹³æ–¹ç±³ï¼Œå·¥æœŸ15å¤©ï¼Œæä¾›5å¹´è´¨ä¿æœåŠ¡ã€‚'
    },
    {
      id: '2',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'æ»¨æ±Ÿè±ªåº­åˆ«å¢…é˜²æ°´å·¥ç¨‹',
      description: 'åˆ«å¢…åœ°ä¸‹å®¤ã€æ¸¸æ³³æ± ã€å«ç”Ÿé—´æ•´ä½“é˜²æ°´ï¼Œç¡®ä¿ä¸‡æ— ä¸€å¤±',
      content: 'æ»¨æ±Ÿè±ªåº­åˆ«å¢…æ˜¯é«˜ç«¯ä½å®…é¡¹ç›®ï¼Œä¸šä¸»è¦æ±‚å¯¹åœ°ä¸‹å®¤ã€æ¸¸æ³³æ± åŠå«ç”Ÿé—´è¿›è¡Œé«˜æ ‡å‡†é˜²æ°´å¤„ç†ã€‚æˆ‘ä»¬é‡‡ç”¨äº†åŒå±‚é˜²æ°´æŠ€æœ¯ï¼Œå†…å±‚ä½¿ç”¨æŸ”æ€§é˜²æ°´æ¶‚æ–™ï¼Œå¤–å±‚ä½¿ç”¨è‡ªç²˜é˜²æ°´å·æï¼Œå¹¶åœ¨å…³é”®éƒ¨ä½å¢åŠ äº†é˜²æ°´é™„åŠ å±‚ã€‚æ•´ä¸ªå·¥ç¨‹å†æ—¶25å¤©ï¼Œé˜²æ°´é¢ç§¯è¾¾800å¹³æ–¹ç±³ï¼Œé€šè¿‡äº†72å°æ—¶è“„æ°´æµ‹è¯•ï¼Œç¡®ä¿ä¸‡æ— ä¸€å¤±ã€‚'
    },
    {
      id: '3',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'é˜³å…‰å•†åŸå¤–å¢™é˜²æ°´ç¿»æ–°',
      description: 'å¤§å‹å•†ä¸šç»¼åˆä½“å¤–å¢™é˜²æ°´ï¼Œç¾è§‚ä¸å®ç”¨å¹¶é‡',
      content: 'é˜³å…‰å•†åŸæ˜¯å¸‚ä¸­å¿ƒå¤§å‹å•†ä¸šç»¼åˆä½“ï¼Œå»ºæˆå·²æœ‰8å¹´ï¼Œå¤–å¢™å‡ºç°å¤šå¤„æ¸—æ°´å’Œå¢™é¢è„±è½ç°è±¡ã€‚æˆ‘ä»¬å¯¹æ•´ä¸ªå¤–å¢™è¿›è¡Œäº†æ¸…æ´ã€ä¿®å¤å’Œé˜²æ°´å¤„ç†ï¼Œé‡‡ç”¨äº†æ–°å‹çº³ç±³é˜²æ°´æ¶‚æ–™ï¼Œå…·æœ‰ä¼˜å¼‚çš„é˜²æ°´æ€§èƒ½å’Œè€å€™æ€§ã€‚å·¥ç¨‹é¢ç§¯è¾¾5000å¹³æ–¹ç±³ï¼Œä¸ä»…è§£å†³äº†æ¸—æ°´é—®é¢˜ï¼Œè¿˜æ¢å¤äº†å»ºç­‘å¤–è§‚ï¼Œä½¿å•†åŸç„•ç„¶ä¸€æ–°ã€‚'
    }
  ],
  
  // è”ç³»ä¿¡æ¯
  contactInfo: {
    phone: '17737709908',
    wechat: 'cszazwp19941114'
  },
  
  // Banneræ•°æ® - ä¿®æ”¹æ ‡é¢˜
  banners: [
    {
      id: '1',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'éƒ‘å¼ä¿®ç¼®',
      subtitle: 'ä¸“ä¸šä¿®ç¼® Â· å“è´¨ä¿éšœ'
    },
    {
      id: '2',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'éƒ‘å¼ä¿®ç¼®',
      subtitle: 'ä¸“ä¸šä¿®ç¼® Â· å“è´¨ä¿éšœ'
    },
    {
      id: '3',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'éƒ‘å¼ä¿®ç¼®',
      subtitle: 'ä¸“ä¸šä¿®ç¼® Â· å“è´¨ä¿éšœ'
    }
  ]
};
===== End of File: services\api\index\data.ts =====


===== File: services\api\index\indexApi.ts =====
// services/api/index/indexApi.ts
import http from '../../http';
import { IndexData, ApiResponse } from './types';
import { indexData } from './data';

// APIç«¯ç‚¹
const ENDPOINTS = {
  GET_INDEX_DATA: '/index',
};

/**
 * è·å–é¦–é¡µæ‰€æœ‰æ•°æ®
 */
export const getIndexData = async (): Promise<ApiResponse<IndexData>> => {
  try {
    // æ›¿æ¢ä¸ºå®é™…APIè°ƒç”¨å½“åç«¯å‡†å¤‡å¥½æ—¶
    // const data = await http.get<IndexData>(ENDPOINTS.GET_INDEX_DATA);
    
    // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
    await new Promise(resolve => setTimeout(resolve, 500));
    
    // è¿”å›æ¨¡æ‹Ÿæ•°æ®
    return {
      success: true,
      data: indexData
    };
  } catch (error: any) {
    return {
      success: false,
      error: error.message || 'è·å–é¦–é¡µæ•°æ®å¤±è´¥'
    };
  }
};

/**
 * é¦–é¡µæ¨¡å—é”™è¯¯å¤„ç†å·¥å…·
 */
export const handleIndexError = (err: any): string => {
  console.error('Index API Error:', err);
  return err instanceof Error ? err.message : 'è·å–é¦–é¡µæ•°æ®æ—¶å‘ç”ŸæœªçŸ¥é”™è¯¯';
};

// å¯¼å‡ºç±»å‹å’Œæ•°æ®
export * from './types';
export * from './data';
===== End of File: services\api\index\indexApi.ts =====


===== File: services\api\index\types.ts =====
// services/index/api/types.ts

// æœåŠ¡é¡¹æ¥å£ - åˆ é™¤featureså±æ€§
export interface Service {
    id: number | string;
    title: string;
    description: string;
}
  
// ç²¾é€‰æ¡ˆä¾‹æ¥å£
export interface Showcase {
    id: string;
    imageUrl: string;
    title: string;
    description: string;
    content: string;
}
  
// è”ç³»ä¿¡æ¯æ¥å£
export interface ContactInfo {
    phone: string;
    wechat: string;
}
  
// Banneræ¥å£
export interface Banner {
    id: string;
    imageUrl: string;
    title?: string;
    subtitle?: string;
}
  
// é¦–é¡µæ•°æ®æ¥å£
export interface IndexData {
    services: Service[];
    showcases: Showcase[];
    contactInfo: ContactInfo;
    banners: Banner[];
}
  
// APIå“åº”åŒ…è£…å™¨
export interface ApiResponse<T> {
    success: boolean;
    data?: T;
    error?: string;
}
===== End of File: services\api\index\types.ts =====


===== File: services\http\cache.ts =====
import Taro from '@tarojs/taro';
import type { CacheData } from './types';

// ç¼“å­˜é”®å‰ç¼€
const CACHE_PREFIX = 'http_cache_';

/**
 * ç”Ÿæˆç¼“å­˜é”®
 */
export function generateCacheKey(url: string, data?: any): string {
  return `${CACHE_PREFIX}${url}_${JSON.stringify(data || {})}`;
}

/**
 * è·å–ç¼“å­˜æ•°æ®
 */
export function getCacheData<T>(key: string): CacheData<T> | null {
  try {
    const cacheData = Taro.getStorageSync(key);
    return cacheData ? JSON.parse(cacheData) : null;
  } catch (error) {
    console.error('è·å–ç¼“å­˜æ•°æ®å¤±è´¥', error);
    return null;
  }
}

/**
 * è®¾ç½®ç¼“å­˜æ•°æ®
 */
export function setCacheData<T>(key: string, data: T): void {
    try {
      const cacheData: CacheData<T> = {
        data,
        timestamp: Date.now()
      };
      
      Taro.setStorageSync(key, JSON.stringify(cacheData));
    } catch (error) {
      console.error('è®¾ç½®ç¼“å­˜æ•°æ®å¤±è´¥', error);
    }
  }

/**
 * æ¸…é™¤ç¼“å­˜æ•°æ®
 */
export function clearCacheData(key: string): void {
  try {
    Taro.removeStorageSync(key);
  } catch (error) {
    console.error('æ¸…é™¤ç¼“å­˜æ•°æ®å¤±è´¥', error);
  }
}

/**
 * æ¸…é™¤æ‰€æœ‰HTTPç¼“å­˜
 */
export function clearAllCache(): void {
  try {
    const storageInfo = Taro.getStorageInfoSync();
    const keys = storageInfo.keys || [];
    
    keys.forEach(key => {
      if (key.startsWith(CACHE_PREFIX)) {
        Taro.removeStorageSync(key);
      }
    });
  } catch (error) {
    console.error('æ¸…é™¤æ‰€æœ‰ç¼“å­˜å¤±è´¥', error);
  }
}

/**
 * æ£€æŸ¥ç¼“å­˜æ˜¯å¦æœ‰æ•ˆ
 */
export function isCacheValid<T>(cache: CacheData<T>, cacheTime: number): boolean {
  if (!cache || !cache.timestamp) return false;
  
  return Date.now() - cache.timestamp < cacheTime;
}
===== End of File: services\http\cache.ts =====


===== File: services\http\config.ts =====
import type { RequestConfig } from './types';

// APIåŸºç¡€URL
export const API_BASE_URL = {
  // å¼€å‘ç¯å¢ƒ
  development: 'https://dev-api.example.com/v1',
  // ç”Ÿäº§ç¯å¢ƒ
  production: 'https://api.example.com/v1'
};

// ç¯å¢ƒåˆ¤æ–­
export const ENV = process.env.NODE_ENV || 'development';

// HTTPçŠ¶æ€ç 
export const HTTP_STATUS = {
  SUCCESS: 200,
  BAD_REQUEST: 400,
  UNAUTHORIZED: 401,
  FORBIDDEN: 403,
  NOT_FOUND: 404,
  SERVER_ERROR: 500
};

// ä¸šåŠ¡çŠ¶æ€ç 
export const BUSINESS_CODE = {
  SUCCESS: 0,           // æˆåŠŸ
  TOKEN_EXPIRED: 10001, // tokenè¿‡æœŸ
  PARAM_ERROR: 10002,   // å‚æ•°é”™è¯¯
  SERVER_ERROR: 50000   // æœåŠ¡å™¨é”™è¯¯
};

// é»˜è®¤è¯·æ±‚é…ç½®
export const DEFAULT_CONFIG: RequestConfig = {
  baseURL: API_BASE_URL[ENV],
  showLoading: true,
  loadingText: 'åŠ è½½ä¸­',
  showErrorToast: true,
  headers: {
    'Content-Type': 'application/json'
  },
  timeout: 10000,       // 10ç§’
  useCache: false,
  cacheTime: 5 * 60 * 1000,  // 5åˆ†é’Ÿ
  retry: 0,
  retryDelay: 1000,
  withToken: true
};
===== End of File: services\http\config.ts =====


===== File: services\http\errorHandler.ts =====
import Taro from '@tarojs/taro';
import { HTTP_STATUS, BUSINESS_CODE } from './config';
import type { RequestError, RequestOptions } from './types';

/**
 * å¤„ç†HTTPçŠ¶æ€é”™è¯¯
 */
export function handleHttpError(statusCode: number): RequestError {
  let message = 'æœªçŸ¥é”™è¯¯';
  
  switch (statusCode) {
    case HTTP_STATUS.BAD_REQUEST:
      message = 'è¯·æ±‚å‚æ•°é”™è¯¯';
      break;
    case HTTP_STATUS.UNAUTHORIZED:
      message = 'æœªæˆæƒï¼Œè¯·ç™»å½•';
      break;
    case HTTP_STATUS.FORBIDDEN:
      message = 'æ²¡æœ‰æƒé™è®¿é—®';
      break;
    case HTTP_STATUS.NOT_FOUND:
      message = 'è¯·æ±‚èµ„æºä¸å­˜åœ¨';
      break;
    case HTTP_STATUS.SERVER_ERROR:
      message = 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯';
      break;
    default:
      message = `HTTPé”™è¯¯ (${statusCode})`;
  }
  
  return {
    code: statusCode,
    message
  };
}

/**
 * å¤„ç†ä¸šåŠ¡çŠ¶æ€é”™è¯¯
 */
export function handleBusinessError<T>(response: { code: number; message: string; data?: T }): RequestError {
  let message = response.message || 'æœªçŸ¥é”™è¯¯';
  
  switch (response.code) {
    case BUSINESS_CODE.TOKEN_EXPIRED:
      message = 'ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•';
      break;
    case BUSINESS_CODE.PARAM_ERROR:
      message = 'å‚æ•°é”™è¯¯';
      break;
    case BUSINESS_CODE.SERVER_ERROR:
      message = 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯';
      break;
  }
  
  return {
    code: response.code,
    message,
    data: response.data
  };
}

/**
 * å¤„ç†ç½‘ç»œé”™è¯¯
 */
export function handleNetworkError(error: any): RequestError {
  let message = 'ç½‘ç»œå¼‚å¸¸';
  
  if (error?.errMsg) {
    if (error.errMsg.includes('timeout')) {
      message = 'è¯·æ±‚è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ';
    } else if (error.errMsg.includes('fail')) {
      message = 'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®';
    }
  }
  
  return {
    code: -1,
    message
  };
}

/**
 * ç»¼åˆé”™è¯¯å¤„ç†
 */
export function handleRequestError(error: any, options: RequestOptions): RequestError {
  // å·²æ ¼å¼åŒ–çš„é”™è¯¯
  if (error && typeof error === 'object' && 'code' in error && 'message' in error) {
    if (options.showErrorToast) {
      Taro.showToast({
        title: error.message,
        icon: 'none',
        duration: 2000
      });
    }
    
    return error as RequestError;
  }
  
  // HTTPé”™è¯¯
  if (error && typeof error === 'object' && 'statusCode' in error) {
    const httpError = handleHttpError(error.statusCode);
    
    if (options.showErrorToast) {
      Taro.showToast({
        title: httpError.message,
        icon: 'none',
        duration: 2000
      });
    }
    
    return httpError;
  }
  
  // ç½‘ç»œé”™è¯¯
  if (error && typeof error === 'object' && 'errMsg' in error) {
    const networkError = handleNetworkError(error);
    
    if (options.showErrorToast) {
      Taro.showToast({
        title: networkError.message,
        icon: 'none',
        duration: 2000
      });
    }
    
    return networkError;
  }
  
  // å…¶ä»–é”™è¯¯
  const unknownError: RequestError = {
    code: -1,
    message: typeof error === 'string' ? error : 'æœªçŸ¥é”™è¯¯'
  };
  
  if (options.showErrorToast) {
    Taro.showToast({
      title: unknownError.message,
      icon: 'none',
      duration: 2000
    });
  }
  
  return unknownError;
}
===== End of File: services\http\errorHandler.ts =====


===== File: services\http\index.ts =====
import { request } from './request';
import type { RequestOptions} from './types';
import { addRequestInterceptor, addResponseInterceptor, addErrorInterceptor } from './interceptor';
import { clearAllCache, clearCacheData } from './cache';

/**
 * HTTPå®¢æˆ·ç«¯
 */
const http = {
  /**
   * å‘é€GETè¯·æ±‚
   */
  get: <T = any>(url: string, data?: any, options?: Partial<RequestOptions>) => 
    request<T>({ url, method: 'GET', data, ...options }),
  
  /**
   * å‘é€POSTè¯·æ±‚
   */  
  post: <T = any>(url: string, data?: any, options?: Partial<RequestOptions>) => 
    request<T>({ url, method: 'POST', data, ...options }),
  
  /**
   * å‘é€PUTè¯·æ±‚
   */
  put: <T = any>(url: string, data?: any, options?: Partial<RequestOptions>) => 
    request<T>({ url, method: 'PUT', data, ...options }),
  
  /**
   * å‘é€DELETEè¯·æ±‚
   */
  delete: <T = any>(url: string, data?: any, options?: Partial<RequestOptions>) => 
    request<T>({ url, method: 'DELETE', data, ...options }),
  
  /**
   * åŸå§‹è¯·æ±‚æ–¹æ³•
   */
  request,
  
  /**
   * æ¸…é™¤æŒ‡å®šç¼“å­˜
   */
  clearCache: clearCacheData,
  
  /**
   * æ¸…é™¤æ‰€æœ‰ç¼“å­˜
   */
  clearAllCache,
  
  /**
   * æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨
   */
  addRequestInterceptor,
  
  /**
   * æ·»åŠ å“åº”æ‹¦æˆªå™¨
   */
  addResponseInterceptor,
  
  /**
   * æ·»åŠ é”™è¯¯æ‹¦æˆªå™¨
   */
  addErrorInterceptor
};

export default http;

// å¯¼å‡ºç±»å‹
export * from './types';
export { DEFAULT_CONFIG } from './config';
===== End of File: services\http\index.ts =====


===== File: services\http\interceptor.ts =====
import Taro from '@tarojs/taro';
import type { RequestInterceptor, ResponseInterceptor, ErrorInterceptor, RequestOptions, ResponseData } from './types';
import { BUSINESS_CODE } from './config';

// è¯·æ±‚æ‹¦æˆªå™¨æ•°ç»„
const requestInterceptors: RequestInterceptor[] = [];

// å“åº”æ‹¦æˆªå™¨æ•°ç»„
const responseInterceptors: ResponseInterceptor[] = [];

// é”™è¯¯æ‹¦æˆªå™¨æ•°ç»„
const errorInterceptors: ErrorInterceptor[] = [];

/**
 * æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨
 */
export function addRequestInterceptor(interceptor: RequestInterceptor): void {
  requestInterceptors.push(interceptor);
}

/**
 * æ·»åŠ å“åº”æ‹¦æˆªå™¨
 */
export function addResponseInterceptor(interceptor: ResponseInterceptor): void {
  responseInterceptors.push(interceptor);
}

/**
 * æ·»åŠ é”™è¯¯æ‹¦æˆªå™¨
 */
export function addErrorInterceptor(interceptor: ErrorInterceptor): void {
  errorInterceptors.push(interceptor);
}

/**
 * åº”ç”¨è¯·æ±‚æ‹¦æˆªå™¨
 */
export async function applyRequestInterceptors(options: RequestOptions): Promise<RequestOptions> {
  let config = { ...options };
  
  for (const interceptor of requestInterceptors) {
    config = await interceptor(config);
  }
  
  return config;
}

/**
 * åº”ç”¨å“åº”æ‹¦æˆªå™¨
 */
export async function applyResponseInterceptors<T>(response: ResponseData<T>, options: RequestOptions): Promise<ResponseData<T>> {
  let result = { ...response };
  
  for (const interceptor of responseInterceptors) {
    result = await interceptor(result, options);
  }
  
  return result;
}

/**
 * åº”ç”¨é”™è¯¯æ‹¦æˆªå™¨
 */
export async function applyErrorInterceptors(error: any, options: RequestOptions): Promise<any> {
  let result = error;
  
  for (const interceptor of errorInterceptors) {
    result = await interceptor(result, options);
  }
  
  return result;
}

// æ·»åŠ é»˜è®¤Tokenæ‹¦æˆªå™¨
addRequestInterceptor(async (options) => {
  if (options.withToken) {
    try {
      const token = Taro.getStorageSync('token');
      if (token) {
        options.headers = {
          ...options.headers,
          'Authorization': `Bearer ${token}`
        };
      }
    } catch (error) {
      console.error('è·å–Tokenå¤±è´¥', error);
    }
  }
  
  return options;
});

// æ·»åŠ é»˜è®¤æ—¥å¿—æ‹¦æˆªå™¨
if (process.env.NODE_ENV === 'development') {
  // è¯·æ±‚æ—¥å¿—
  addRequestInterceptor((options) => {
    console.log(`[Request] ${options.method} ${options.url}`, options.data);
    return options;
  });
  
  // å“åº”æ—¥å¿—
  addResponseInterceptor((response, options) => {
    console.log(`[Response] ${options.method} ${options.url}`, response);
    return response;
  });
  
  // é”™è¯¯æ—¥å¿—
  addErrorInterceptor((error, options) => {
    console.error(`[Error] ${options.method} ${options.url}`, error);
    return error;
  });
}

// æ·»åŠ é»˜è®¤Tokenè¿‡æœŸå¤„ç†
addErrorInterceptor((error) => {
  if (error && error.code === BUSINESS_CODE.TOKEN_EXPIRED) {
    // æ¸…é™¤æœ¬åœ°Token
    Taro.removeStorageSync('token');
    
    // è·³è½¬åˆ°ç™»å½•é¡µ
    Taro.navigateTo({
      url: '/pages/login/index'
    });
  }
  
  return error;
});
===== End of File: services\http\interceptor.ts =====


===== File: services\http\request.ts =====
import Taro from '@tarojs/taro';
import type { RequestOptions, ResponseData } from './types';
import { DEFAULT_CONFIG, BUSINESS_CODE } from './config';
import { applyRequestInterceptors, applyResponseInterceptors, applyErrorInterceptors } from './interceptor';
import { handleRequestError, handleBusinessError } from './errorHandler';
import { generateCacheKey, getCacheData, setCacheData, isCacheValid } from './cache';

// è¯·æ±‚è®¡æ•°å™¨
let loadingCount = 0;

/**
 * æ˜¾ç¤ºåŠ è½½æç¤º
 */
function showLoading(text: string): void {
  loadingCount++;
  
  if (loadingCount === 1) {
    Taro.showLoading({ title: text });
  }
}

/**
 * éšè—åŠ è½½æç¤º
 */
function hideLoading(): void {
  loadingCount--;
  
  if (loadingCount === 0) {
    Taro.hideLoading();
  }
}

/**
 * å»¶è¿Ÿå‡½æ•°
 */
function delay(ms: number): Promise<void> {
  return new Promise(resolve => setTimeout(resolve, ms));
}

/**
 * ç»Ÿä¸€è¯·æ±‚å‡½æ•°
 */
export async function request<T = any>(options: RequestOptions): Promise<T> {
  // åˆå¹¶é…ç½®
  const config = { ...DEFAULT_CONFIG, ...options };
  const { url, method = 'GET', data, baseURL, showLoading: shouldShowLoading, loadingText, useCache, cacheTime, retry, retryDelay } = config;
  
  // å®Œæ•´URL
  const fullUrl = url.startsWith('http') ? url : `${baseURL}${url.startsWith('/') ? url : `/${url}`}`;
  
  // æ£€æŸ¥ç¼“å­˜
  if (useCache && method === 'GET') {
    const cacheKey = generateCacheKey(fullUrl, data);
    const cached = getCacheData<T>(cacheKey);
    
    if (cached && isCacheValid(cached, cacheTime || DEFAULT_CONFIG.cacheTime || 0)) {
      return cached.data;
    }
  }
  
  // è¯·æ±‚å‰å¤„ç†
  let requestConfig = await applyRequestInterceptors({ ...config, url: fullUrl });
  
  // é‡è¯•è®¡æ•°
  let retryCount = retry || 0;
  
  // æ˜¾ç¤ºåŠ è½½æç¤º
  if (shouldShowLoading) {
    showLoading(loadingText || 'åŠ è½½ä¸­');
  }
  
  try {
    // å‘é€è¯·æ±‚
    const executeRequest = async (): Promise<T> => {
      try {
        const response = await Taro.request({
          url: fullUrl,
          data: requestConfig.data,
          method: requestConfig.method as any,
          header: requestConfig.headers,
          timeout: requestConfig.timeout
        });
        
        // HTTPçŠ¶æ€æ£€æŸ¥
        if (response.statusCode !== 200) {
          throw { statusCode: response.statusCode };
        }
        
        // ä¸šåŠ¡çŠ¶æ€æ£€æŸ¥
        const responseData = response.data as ResponseData<T>;
        
        if (responseData.code !== BUSINESS_CODE.SUCCESS) {
          throw handleBusinessError(responseData);
        }
        
        // å“åº”æ‹¦æˆªå¤„ç†
        const processedResponse = await applyResponseInterceptors(responseData, requestConfig);
        
        // è®¾ç½®ç¼“å­˜
        if (useCache && method === 'GET') {
          const cacheKey = generateCacheKey(fullUrl, data);
          setCacheData(cacheKey, processedResponse.data);
        }
        
        return processedResponse.data;
      } catch (error) {
        // è¯·æ±‚å¤±è´¥ä½†è¿˜æœ‰é‡è¯•æ¬¡æ•°
        if (retryCount > 0) {
          retryCount--;
          // å»¶è¿Ÿåé‡è¯•
          await delay(retryDelay || DEFAULT_CONFIG.retryDelay || 1000);
          return executeRequest();
        }
        
        // é‡è¯•æ¬¡æ•°ç”¨å®Œï¼Œå‘ä¸ŠæŠ›å‡ºé”™è¯¯
        throw error;
      }
    };
    
    return await executeRequest();
  } catch (error) {
    // é”™è¯¯å¤„ç†
    const processedError = await applyErrorInterceptors(error, requestConfig);
    throw handleRequestError(processedError, requestConfig);
  } finally {
    // éšè—åŠ è½½æç¤º
    if (shouldShowLoading) {
      hideLoading();
    }
  }
}
===== End of File: services\http\request.ts =====


===== File: services\http\types.ts =====
// è¯·æ±‚æ–¹æ³•ç±»å‹
export type RequestMethod = 'GET' | 'POST' | 'PUT' | 'DELETE';

// è¯·æ±‚é…ç½®
export interface RequestConfig {
  // åŸºç¡€URL
  baseURL?: string;
  // æ˜¯å¦æ˜¾ç¤ºåŠ è½½æç¤º
  showLoading?: boolean;
  // åŠ è½½æç¤ºæ–‡å­—
  loadingText?: string;
  // æ˜¯å¦æ˜¾ç¤ºé”™è¯¯æç¤º
  showErrorToast?: boolean;
  // è¯·æ±‚å¤´
  headers?: Record<string, string>;
  // è¶…æ—¶æ—¶é—´(ms)
  timeout?: number;
  // æ˜¯å¦ä½¿ç”¨ç¼“å­˜(ä»…GETè¯·æ±‚)
  useCache?: boolean;
  // ç¼“å­˜æ—¶é—´(ms)
  cacheTime?: number;
  // é‡è¯•æ¬¡æ•°
  retry?: number;
  // é‡è¯•å»¶è¿Ÿ(ms)
  retryDelay?: number;
  // æ˜¯å¦è‡ªåŠ¨æºå¸¦token
  withToken?: boolean;
}

// è¯·æ±‚å‚æ•°
export interface RequestOptions extends RequestConfig {
  // è¯·æ±‚åœ°å€
  url: string;
  // è¯·æ±‚æ–¹æ³•
  method?: RequestMethod;
  // è¯·æ±‚æ•°æ®
  data?: any;
}

// å“åº”æ•°æ®ç»“æ„
export interface ResponseData<T = any> {
  code: number;
  message: string;
  data: T;
}

// ç¼“å­˜æ•°æ®ç»“æ„
export interface CacheData<T = any> {
  data: T;
  timestamp: number;
}

// é”™è¯¯ä¿¡æ¯ç»“æ„
export interface RequestError {
  code: number;
  message: string;
  data?: any;
}

// è¯·æ±‚æ‹¦æˆªå™¨
export type RequestInterceptor = (options: RequestOptions) => RequestOptions | Promise<RequestOptions>;

// å“åº”æ‹¦æˆªå™¨
export type ResponseInterceptor = <T>(response: ResponseData<T>, options: RequestOptions) => ResponseData<T> | Promise<ResponseData<T>>;

// é”™è¯¯æ‹¦æˆªå™¨
export type ErrorInterceptor = (error: any, options: RequestOptions) => any;
===== End of File: services\http\types.ts =====


===== File: styles\theme.css =====
:root,
page{
  /* ä¸»å“ç‰Œè‰²ç³» - è“è‰²ç³»åˆ—ï¼Œä»æµ…åˆ°æ·± */
  --nutui-brand-1: #EFF6FF; /* æœ€æµ…è“è‰² - é€‚åˆèƒŒæ™¯ã€é«˜äº®åŒºåŸŸ */
  --nutui-brand-2: #DBEAFE; /* æµ…è“è‰² - ç”¨äºè½»é‡å¼ºè°ƒå’ŒèƒŒæ™¯ */
  --nutui-brand-3: #BFDBFE; /* ä¸­æµ…è“è‰² - ç¦ç”¨çŠ¶æ€ */
  --nutui-brand-4: #93C5FD; /* æ¸å˜èµ·å§‹è‰² */
  --nutui-brand-5: #60A5FA; /* ä¸­é—´è¿‡æ¸¡è‰² */
  --nutui-brand-6: #3B82F6; /* ä¸»è‰²è°ƒ - äº®è“è‰² */
  --nutui-brand-7: #2563EB; /* æŒ‰å‹çŠ¶æ€è‰² - ä¸TabBaré€‰ä¸­è‰²ç›¸åŒ */
  --nutui-brand-8: #1D4ED8; /* æ·±è“è‰² - æ¸å˜ç»“æŸè‰² */
  --nutui-brand-9: #1E40AF; /* å¾ˆæ·±è“è‰² */
  --nutui-brand-10: #1E3A8A; /* æœ€æ·±è“è‰² */
  
  /* æ¸å˜è‰²è®¾ç½® */
  --nutui-brand-stop-1: #60A5FA; /* æ¸å˜èµ·å§‹è‰² - å¯¹åº”brand-5 */
  --nutui-brand-stop-2: #2563EB; /* æ¸å˜ç»“æŸè‰² - å¯¹åº”brand-7ï¼Œä¸TabBarä¸€è‡´ */
  
  /* å¼ºè°ƒè‰² - ç”¨äºç‰¹æ®Šå…ƒç´ ï¼Œé˜²æ°´ä¸»é¢˜å¯ä»¥ç”¨è“ç»¿è‰² */
  --nutui-secondary-1: #0EA5E9; /* è“ç»¿è‰²å¼ºè°ƒè‰² - ä¸æ°´ç›¸å…³ */
  
  /* ä¸»è‰²è°ƒæ˜ å°„ */
  --nutui-color-primary: #2563EB; /* ä¸TabBaré€‰ä¸­è‰²ä¿æŒä¸€è‡´ */
  --nutui-color-primary-stop-1: var(--nutui-brand-stop-1);
  --nutui-color-primary-stop-2: var(--nutui-brand-stop-2);
  --nutui-color-primary-pressed: var(--nutui-brand-8);
  --nutui-color-primary-disabled: var(--nutui-brand-3);
  --nutui-color-primary-text: #FFFFFF;
  --nutui-color-primary-light: var(--nutui-brand-2);
  
  /* æ–‡æœ¬ç³»ç»Ÿ */
  --nutui-gray-7: #1F2937; /* ä¸»è¦æ–‡æœ¬ */
  --nutui-gray-6: #4B5563; /* é‡è¦æ¬¡è¦æ–‡æœ¬ */
  --nutui-gray-5: #6B7280; /* æ¬¡è¦æ–‡æœ¬ */
  --nutui-gray-4: #9CA3AF; /* åˆ†å‰²çº¿/ç¦ç”¨æ–‡æœ¬ */
  
  /* èƒŒæ™¯ç³»ç»Ÿ */
  --nutui-gray-1: #FFFFFF; /* ç™½è‰²èƒŒæ™¯ - ä¸navigationBarèƒŒæ™¯ä¸€è‡´ */
  --nutui-gray-2: #F9FAFB; /* æµ…ç°èƒŒæ™¯ - å¡ç‰‡å†…åµŒèƒŒæ™¯ */
  --nutui-gray-3: #F3F4F6; /* ç°è‰²èƒŒæ™¯ - é¡µé¢åŸºåº•è‰² */
  
  /* åŠŸèƒ½è‰²è®¾ç½® - ä¸é˜²æ°´æœåŠ¡ä¸»é¢˜ç›¸åè°ƒ */
  --nutui-color-success: #10B981; /* æˆåŠŸè‰² - ç»¿è‰²ï¼Œä»£è¡¨å®‰å…¨å¯é  */
  --nutui-color-success-disabled: #D1FAE5;
  --nutui-color-danger: #EF4444; /* å±é™©è‰² - çº¢è‰²ï¼Œä»£è¡¨è­¦ç¤º */
  --nutui-color-danger-disabled: #FEE2E2;
  --nutui-color-warning: #F59E0B; /* è­¦å‘Šè‰² - æ©™è‰² */
  --nutui-color-warning-disabled: #FEF3C7;
  --nutui-color-info: #3B82F6; /* ä¿¡æ¯è‰² - è“è‰²ï¼Œä¸æ°´ç›¸å…³ */
  --nutui-color-info-disabled: #BFDBFE;
  --nutui-color-info-background: linear-gradient(315deg, #60A5FA 0%, #2563EB 100%);
  
  /* TabBaré¢œè‰²è®¾ç½® - ä¿æŒä¸€è‡´æ€§ */
  --nutui-tabbar-active-color: #2563EB; /* ä¸TabBaré€‰ä¸­è‰²ä¿æŒä¸€è‡´ */
  --nutui-tabbar-inactive-color: #999999; /* ä¸TabBaræœªé€‰ä¸­è‰²ä¿æŒä¸€è‡´ */

  --nutui-picker-title-ok-font-size: 16px;/*pickeré¢æ¿ç¡®è®¤å­—å·*/
  --nutui-picker-item-height: 40px; /*pickeré¢æ¿æ¯ä¸€æ¡æ•°æ®é«˜åº¦*/
  --nutui-picker-list-height: 180px;
  --nutui-picker-title-cancel-font-size: 16px;
}
===== End of File: styles\theme.css =====

