ğŸ“ src
  ğŸ“ pages
    ğŸ“ index
      ğŸ“„ index.config.ts
      ğŸ“„ index.scss
      ğŸ“„ index.tsx
  ğŸ“ services
    ğŸ“ api
      ğŸ“ index
        ğŸ“„ data.ts
        ğŸ“„ indexApi.ts
        ğŸ“„ types.ts
  ğŸ“ styles
    ğŸ“„ theme.css

===== File: pages\index\index.config.ts =====
export default {
  navigationBarTitleText: 'éƒ‘å¼ä¿®ç¼®',
  enablePullDownRefresh: true,
  backgroundColor: '#f5f5f5',
  backgroundTextStyle: 'dark',
  navigationBarBackgroundColor: '#ffffff',
  navigationBarTextStyle: 'black'
}
===== End of File: pages\index\index.config.ts =====


===== File: pages\index\index.scss =====
/* é˜²æ°´æœåŠ¡å°ç¨‹åºæ ·å¼ */

// é¡µé¢æ•´ä½“æ ·å¼
.page {
  background-color: #f5f7fa;
  min-height: 100vh;
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
}

// åŠ è½½çŠ¶æ€
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  
  .loading-text {
    margin-top: 12px;
    color: #666;
    font-size: 14px;
  }
}
===== End of File: pages\index\index.scss =====


===== File: pages\index\index.tsx =====
import { useEffect, useState, useCallback } from 'react'
import { View, Text } from '@tarojs/components'
import { Toast, Loading } from '@nutui/nutui-react-taro'
import Taro from '@tarojs/taro'
import './index.scss'

// å¯¼å…¥ç»„ä»¶
import BannerCarousel from 'src/components/BannerCarousel'
import QuickContact from 'src/components/QuickContact'
import ServiceSection from 'src/components/ServiceSection'
import ShowcaseSection from 'src/components/ShowcaseSection'

// ä¿®æ”¹APIå¯¼å…¥è·¯å¾„
import { IndexData } from 'src/services/api/index/types'
import { getIndexData } from 'src/services/api/index/indexApi'

// ç®€åŒ–é”™è¯¯å¤„ç†å‡½æ•°
const handleIndexError = (err: any): string => {
  return err instanceof Error ? err.message : 'è·å–é¦–é¡µæ•°æ®æ—¶å‘ç”ŸæœªçŸ¥é”™è¯¯';
};

export default function IndexPage() {
  // çŠ¶æ€ç®¡ç†
  const [loading, setLoading] = useState(true)
  const [indexData, setIndexData] = useState<IndexData | null>(null)
  const [showToast, setShowToast] = useState(false)
  const [toastMsg, setToastMsg] = useState('')
  const [toastType, setToastType] = useState<'success' | 'fail' | 'warn'>('success')
  
  // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
  const showToastMessage = useCallback((message: string, type: 'success' | 'fail' | 'warn' = 'success') => {
    if (showToast) {
      setShowToast(false)
      setTimeout(() => {
        setToastMsg(message)
        setToastType(type)
        setShowToast(true)
      }, 100)
    } else {
      setToastMsg(message)
      setToastType(type)
      setShowToast(true)
    }
  }, [showToast])
  
  // è·å–æ•°æ®
  const fetchData = useCallback(async () => {
    setLoading(true)
    
    try {
      const result = await getIndexData()
      
      if (result.success && result.data) {
        setIndexData(result.data)
      } else {
        showToastMessage(result.error || 'è·å–é¦–é¡µæ•°æ®å¤±è´¥', 'fail')
      }
    } catch (error) {
      console.error('åŠ è½½æ•°æ®å¤±è´¥:', error)
      showToastMessage(handleIndexError(error), 'fail')
    } finally {
      setLoading(false)
    }
  }, [showToastMessage])
  
  // ä¸‹æ‹‰åˆ·æ–°å¤„ç†
  const handlePullDownRefresh = useCallback(async () => {
    try {
      const result = await getIndexData()
      
      if (result.success && result.data) {
        setIndexData(result.data)
        showToastMessage('åˆ·æ–°æˆåŠŸ', 'success')
      } else {
        showToastMessage(result.error || 'åˆ·æ–°æ•°æ®å¤±è´¥', 'fail')
      }
    } catch (error) {
      showToastMessage(handleIndexError(error), 'fail')
    } finally {
      Taro.stopPullDownRefresh()
    }
  }, [showToastMessage])
  
  // ç»„ä»¶æŒ‚è½½æ—¶è·å–æ•°æ®
  useEffect(() => {
    fetchData()
  }, [fetchData])
  
  // ä¸‹æ‹‰åˆ·æ–°äº‹ä»¶ç›‘å¬
  useEffect(() => {
    Taro.eventCenter.on('pullDownRefresh', handlePullDownRefresh)
    
    return () => {
      Taro.eventCenter.off('pullDownRefresh', handlePullDownRefresh)
    }
  }, [handlePullDownRefresh])
  
  // åŠ è½½çŠ¶æ€
  if (loading || !indexData) {
    return (
      <View className='loading-container'>
        <Loading type='spinner' />
        <Text className='loading-text'>åŠ è½½ä¸­...</Text>
      </View>
    )
  }
  
  return (
    <View className='page'>
      {/* BanneråŒºåŸŸ */}
      <BannerCarousel banners={indexData.banners} />
      
      {/* å¿«é€Ÿè”ç³» */}
      <QuickContact 
        contactInfo={indexData.contactInfo}
        onShowToast={showToastMessage}
      />
      
      {/* æœåŠ¡é¡¹ç›® */}
      <ServiceSection 
        services={indexData.services}
        title="æˆ‘ä»¬çš„æœåŠ¡"
      />
      
      {/* ç²¾é€‰æ¡ˆä¾‹ */}
      <ShowcaseSection 
        showcases={indexData.showcases}
        onShowToast={showToastMessage}
      />
      
      {/* Toastç»„ä»¶ */}
      <Toast
        msg={toastMsg}
        visible={showToast}
        type={toastType}
        onClose={() => setShowToast(false)}
        duration={2000}
        position='center'
        closeOnOverlayClick
      />
    </View>
  )
}
===== End of File: pages\index\index.tsx =====


===== File: services\api\index\data.ts =====
// services/api/index/data.ts
import { IndexData } from './types';

// é¦–é¡µæ¨¡æ‹Ÿæ•°æ®
export const indexData: IndexData = {
  // æœåŠ¡æ•°æ®
  services: [
    {
      id: 1,
      title: 'æ¼æ°´æ£€æµ‹',
      description: 'ä¸“ä¸šæ£€æµ‹æŠ€æœ¯ï¼Œç²¾å‡†å®šä½æ¼æ°´ç‚¹'
    },
    {
      id: 2,
      title: 'é˜²æ°´æ–½å·¥',
      description: 'é«˜æ ‡å‡†é˜²æ°´å·¥ç¨‹ï¼Œæœç»åé¡¾ä¹‹å¿§'
    },
    {
      id: 3,
      title: 'æ¸—æ¼ç»´ä¿®',
      description: 'å¿«é€Ÿåº”å¯¹å„ç±»æ¸—æ¼é—®é¢˜ï¼ŒåŠæ—¶ä¿®å¤'
    },
    {
      id: 4,
      title: 'ææ–™é”€å”®',
      description: 'ä¼˜è´¨é˜²æ°´ææ–™ï¼Œä¸“ä¸šæŠ€æœ¯æ”¯æŒ'
    }
  ],
  
  // ç²¾é€‰æ¡ˆä¾‹æ•°æ® - ä½¿ç”¨æ–°çš„CaseDataç»“æ„
  showcases: [
    {
      id: 1,
      title: 'åŸå¸‚èŠ±å›­å°åŒºå±‹é¡¶é˜²æ°´å·¥ç¨‹',
      city: 'éƒ‘å·',
      description: 'è§£å†³å±‹é¡¶é•¿æœŸæ¸—æ°´é—®é¢˜ï¼Œé‡‡ç”¨æœ€æ–°é˜²æ°´ææ–™ï¼Œ5å¹´è´¨ä¿',
      date: '2024-03-15',
      coverImage: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      images: [
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png'
      ],
      videos: [],
      content: 'åŸå¸‚èŠ±å›­å°åŒºå»ºäº2010å¹´ï¼Œå±‹é¡¶é•¿æœŸå­˜åœ¨æ¸—æ°´é—®é¢˜ï¼Œå½±å“å±…æ°‘æ­£å¸¸ç”Ÿæ´»ã€‚æˆ‘ä»¬ä½¿ç”¨é«˜åˆ†å­é˜²æ°´å·æå¯¹å±‹é¡¶è¿›è¡Œå…¨é¢é˜²æ°´å¤„ç†ï¼Œå¹¶å¢åŠ äº†æ’æ°´ç³»ç»Ÿæ”¹é€ ï¼Œå½»åº•è§£å†³äº†æ¼æ°´é—®é¢˜ã€‚è¯¥å·¥ç¨‹è¦†ç›–é¢ç§¯è¾¾2000å¹³æ–¹ç±³ï¼Œå·¥æœŸ15å¤©ï¼Œæä¾›5å¹´è´¨ä¿æœåŠ¡ã€‚'
    },
    {
      id: 2,
      title: 'æ»¨æ±Ÿè±ªåº­åˆ«å¢…é˜²æ°´å·¥ç¨‹',
      city: 'éƒ‘å·',
      description: 'åˆ«å¢…åœ°ä¸‹å®¤ã€æ¸¸æ³³æ± ã€å«ç”Ÿé—´æ•´ä½“é˜²æ°´ï¼Œç¡®ä¿ä¸‡æ— ä¸€å¤±',
      date: '2024-02-20',
      coverImage: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      images: [
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png'
      ],
      videos: [],
      content: 'æ»¨æ±Ÿè±ªåº­åˆ«å¢…æ˜¯é«˜ç«¯ä½å®…é¡¹ç›®ï¼Œä¸šä¸»è¦æ±‚å¯¹åœ°ä¸‹å®¤ã€æ¸¸æ³³æ± åŠå«ç”Ÿé—´è¿›è¡Œé«˜æ ‡å‡†é˜²æ°´å¤„ç†ã€‚æˆ‘ä»¬é‡‡ç”¨äº†åŒå±‚é˜²æ°´æŠ€æœ¯ï¼Œå†…å±‚ä½¿ç”¨æŸ”æ€§é˜²æ°´æ¶‚æ–™ï¼Œå¤–å±‚ä½¿ç”¨è‡ªç²˜é˜²æ°´å·æï¼Œå¹¶åœ¨å…³é”®éƒ¨ä½å¢åŠ äº†é˜²æ°´é™„åŠ å±‚ã€‚æ•´ä¸ªå·¥ç¨‹å†æ—¶25å¤©ï¼Œé˜²æ°´é¢ç§¯è¾¾800å¹³æ–¹ç±³ï¼Œé€šè¿‡äº†72å°æ—¶è“„æ°´æµ‹è¯•ï¼Œç¡®ä¿ä¸‡æ— ä¸€å¤±ã€‚'
    },
    {
      id: 3,
      title: 'é˜³å…‰å•†åŸå¤–å¢™é˜²æ°´ç¿»æ–°',
      city: 'éƒ‘å·',
      description: 'å¤§å‹å•†ä¸šç»¼åˆä½“å¤–å¢™é˜²æ°´ï¼Œç¾è§‚ä¸å®ç”¨å¹¶é‡',
      date: '2024-01-10',
      coverImage: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      images: [
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
        'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png'
      ],
      videos: [],
      content: 'é˜³å…‰å•†åŸæ˜¯å¸‚ä¸­å¿ƒå¤§å‹å•†ä¸šç»¼åˆä½“ï¼Œå»ºæˆå·²æœ‰8å¹´ï¼Œå¤–å¢™å‡ºç°å¤šå¤„æ¸—æ°´å’Œå¢™é¢è„±è½ç°è±¡ã€‚æˆ‘ä»¬å¯¹æ•´ä¸ªå¤–å¢™è¿›è¡Œäº†æ¸…æ´ã€ä¿®å¤å’Œé˜²æ°´å¤„ç†ï¼Œé‡‡ç”¨äº†æ–°å‹çº³ç±³é˜²æ°´æ¶‚æ–™ï¼Œå…·æœ‰ä¼˜å¼‚çš„é˜²æ°´æ€§èƒ½å’Œè€å€™æ€§ã€‚å·¥ç¨‹é¢ç§¯è¾¾5000å¹³æ–¹ç±³ï¼Œä¸ä»…è§£å†³äº†æ¸—æ°´é—®é¢˜ï¼Œè¿˜æ¢å¤äº†å»ºç­‘å¤–è§‚ï¼Œä½¿å•†åŸç„•ç„¶ä¸€æ–°ã€‚'
    }
  ],
  
  // è”ç³»ä¿¡æ¯ - æ”¯æŒå¤šä¸ªç”µè¯å·ç 
  contactInfo: {
    phone: ['17737709908', '13523490435'],
    phoneLabels: ['ç”µè¯', 'å¤‡ç”¨ç”µè¯'],
    wechat: 'cszazwp19941114'
  },
  
  // Banneræ•°æ®
  banners: [
    {
      id: '1',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'éƒ‘å¼ä¿®ç¼®',
      subtitle: 'ä¸“ä¸šä¿®ç¼® Â· å“è´¨ä¿éšœ'
    },
    {
      id: '2',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'éƒ‘å¼ä¿®ç¼®',
      subtitle: 'ä¸“ä¸šä¿®ç¼® Â· å“è´¨ä¿éšœ'
    },
    {
      id: '3',
      imageUrl: 'https://img.picui.cn/free/2025/05/23/6830406aa07e5.png',
      title: 'éƒ‘å¼ä¿®ç¼®',
      subtitle: 'ä¸“ä¸šä¿®ç¼® Â· å“è´¨ä¿éšœ'
    }
  ]
};
===== End of File: services\api\index\data.ts =====


===== File: services\api\index\indexApi.ts =====
import http from '../../http';
import { IndexData, ApiResponse, Banner, Showcase, Service, ContactInfo } from './types';

// APIç«¯ç‚¹
const ENDPOINTS = {
  GET_BANNERS: '/api/banners/list',
  GET_SHOWCASES: '/api/cases/showcases',
  GET_CONTACT_INFO: '/api/contact/info',
  GET_SERVICES: '/api/contact/services',
};

/**
 * è·å–é¦–é¡µæ‰€æœ‰æ•°æ®
 */
export const getIndexData = async (): Promise<ApiResponse<IndexData>> => {
  try {
    // å¹¶è¡Œè¯·æ±‚æ‰€æœ‰æ•°æ®
    const [bannersRes, showcasesRes, contactRes, servicesRes] = await Promise.all([
      http.get<Banner[]>(ENDPOINTS.GET_BANNERS),
      http.get<Showcase[]>(ENDPOINTS.GET_SHOWCASES),
      http.get<ContactInfo>(ENDPOINTS.GET_CONTACT_INFO),
      http.get<Service[]>(ENDPOINTS.GET_SERVICES)
    ]);

    // ç»„è£…é¦–é¡µæ•°æ®
    const indexData: IndexData = {
      banners: bannersRes || [],
      showcases: showcasesRes || [],
      contactInfo: contactRes || { phone: [], wechat: '' },
      services: servicesRes || []
    };

    return {
      success: true,
      data: indexData
    };
  } catch (error: any) {
    return {
      success: false,
      error: error.message || 'è·å–é¦–é¡µæ•°æ®å¤±è´¥'
    };
  }
};
===== End of File: services\api\index\indexApi.ts =====


===== File: services\api\index\types.ts =====
export interface Service {
    text: string;      // å¯¹åº”æ•°æ®åº“ services.text
    value: string;     // å¯¹åº”æ•°æ®åº“ services.vlaue è½¬æ¢ä¸ºå­—ç¬¦ä¸²
}

// æ¡ˆä¾‹æ•°æ®æ¥å£ 
export interface CaseData {
    id: number;
    title: string;
    city: string;
    description: string;
    date: string;
    images: string[];
    videos?: string[];
    content: string;
    coverImage?: string; 
}

// ç²¾é€‰æ¡ˆä¾‹æ¥å£
export interface Showcase extends CaseData {
    coverImage: string; // ç²¾é€‰æ¡ˆä¾‹å¿…é¡»æœ‰å°é¢å›¾
}

// è”ç³»ä¿¡æ¯æ¥å£
export interface ContactInfo {
    phone: string[];     // ç”µè¯å·ç æ•°ç»„
    wechat: string;     // å¾®ä¿¡å·
    address?: string;   // å…¬å¸åœ°å€
    description?: string; // å…¬å¸ç®€ä»‹
}

// Banneræ¥å£
export interface Banner {
    id: string;
    imageUrl: string;   // å¯¹åº”æ•°æ®åº“ image_url
    title?: string;     // å¯¹åº”æ•°æ®åº“ title
    subtitle?: string;  // å¯¹åº”æ•°æ®åº“ subtitle
}

// é¦–é¡µæ•°æ®æ¥å£
export interface IndexData {
    services: Service[];
    showcases: Showcase[];
    contactInfo: ContactInfo;
    banners: Banner[];
}

// APIå“åº”åŒ…è£…å™¨
export interface ApiResponse<T> {
    success: boolean;
    data?: T;
    error?: string;
}
===== End of File: services\api\index\types.ts =====


===== File: styles\theme.css =====
:root,
page{
  /* ä¸»å“ç‰Œè‰²ç³» - è“è‰²ç³»åˆ—ï¼Œä»æµ…åˆ°æ·± */
  --nutui-brand-1: #EFF6FF; /* æœ€æµ…è“è‰² - é€‚åˆèƒŒæ™¯ã€é«˜äº®åŒºåŸŸ */
  --nutui-brand-2: #DBEAFE; /* æµ…è“è‰² - ç”¨äºè½»é‡å¼ºè°ƒå’ŒèƒŒæ™¯ */
  --nutui-brand-3: #BFDBFE; /* ä¸­æµ…è“è‰² - ç¦ç”¨çŠ¶æ€ */
  --nutui-brand-4: #93C5FD; /* æ¸å˜èµ·å§‹è‰² */
  --nutui-brand-5: #60A5FA; /* ä¸­é—´è¿‡æ¸¡è‰² */
  --nutui-brand-6: #3B82F6; /* ä¸»è‰²è°ƒ - äº®è“è‰² */
  --nutui-brand-7: #2563EB; /* æŒ‰å‹çŠ¶æ€è‰² - ä¸TabBaré€‰ä¸­è‰²ç›¸åŒ */
  --nutui-brand-8: #1D4ED8; /* æ·±è“è‰² - æ¸å˜ç»“æŸè‰² */
  --nutui-brand-9: #1E40AF; /* å¾ˆæ·±è“è‰² */
  --nutui-brand-10: #1E3A8A; /* æœ€æ·±è“è‰² */
  
  /* æ¸å˜è‰²è®¾ç½® */
  --nutui-brand-stop-1: #60A5FA; /* æ¸å˜èµ·å§‹è‰² - å¯¹åº”brand-5 */
  --nutui-brand-stop-2: #2563EB; /* æ¸å˜ç»“æŸè‰² - å¯¹åº”brand-7ï¼Œä¸TabBarä¸€è‡´ */
  
  /* å¼ºè°ƒè‰² - ç”¨äºç‰¹æ®Šå…ƒç´ ï¼Œé˜²æ°´ä¸»é¢˜å¯ä»¥ç”¨è“ç»¿è‰² */
  --nutui-secondary-1: #0EA5E9; /* è“ç»¿è‰²å¼ºè°ƒè‰² - ä¸æ°´ç›¸å…³ */
  
  /* ä¸»è‰²è°ƒæ˜ å°„ */
  --nutui-color-primary: #2563EB; /* ä¸TabBaré€‰ä¸­è‰²ä¿æŒä¸€è‡´ */
  --nutui-color-primary-stop-1: var(--nutui-brand-stop-1);
  --nutui-color-primary-stop-2: var(--nutui-brand-stop-2);
  --nutui-color-primary-pressed: var(--nutui-brand-8);
  --nutui-color-primary-disabled: var(--nutui-brand-3);
  --nutui-color-primary-text: #FFFFFF;
  --nutui-color-primary-light: var(--nutui-brand-2);
  
  /* æ–‡æœ¬ç³»ç»Ÿ */
  --nutui-gray-7: #1F2937; /* ä¸»è¦æ–‡æœ¬ */
  --nutui-gray-6: #4B5563; /* é‡è¦æ¬¡è¦æ–‡æœ¬ */
  --nutui-gray-5: #6B7280; /* æ¬¡è¦æ–‡æœ¬ */
  --nutui-gray-4: #9CA3AF; /* åˆ†å‰²çº¿/ç¦ç”¨æ–‡æœ¬ */
  
  /* èƒŒæ™¯ç³»ç»Ÿ */
  --nutui-gray-1: #FFFFFF; /* ç™½è‰²èƒŒæ™¯ - ä¸navigationBarèƒŒæ™¯ä¸€è‡´ */
  --nutui-gray-2: #F9FAFB; /* æµ…ç°èƒŒæ™¯ - å¡ç‰‡å†…åµŒèƒŒæ™¯ */
  --nutui-gray-3: #F3F4F6; /* ç°è‰²èƒŒæ™¯ - é¡µé¢åŸºåº•è‰² */
  
  /* åŠŸèƒ½è‰²è®¾ç½® - ä¸é˜²æ°´æœåŠ¡ä¸»é¢˜ç›¸åè°ƒ */
  --nutui-color-success: #10B981; /* æˆåŠŸè‰² - ç»¿è‰²ï¼Œä»£è¡¨å®‰å…¨å¯é  */
  --nutui-color-success-disabled: #D1FAE5;
  --nutui-color-danger: #EF4444; /* å±é™©è‰² - çº¢è‰²ï¼Œä»£è¡¨è­¦ç¤º */
  --nutui-color-danger-disabled: #FEE2E2;
  --nutui-color-warning: #F59E0B; /* è­¦å‘Šè‰² - æ©™è‰² */
  --nutui-color-warning-disabled: #FEF3C7;
  --nutui-color-info: #3B82F6; /* ä¿¡æ¯è‰² - è“è‰²ï¼Œä¸æ°´ç›¸å…³ */
  --nutui-color-info-disabled: #BFDBFE;
  --nutui-color-info-background: linear-gradient(315deg, #60A5FA 0%, #2563EB 100%);
  
  /* TabBaré¢œè‰²è®¾ç½® - ä¿æŒä¸€è‡´æ€§ */
  --nutui-tabbar-active-color: #2563EB; /* ä¸TabBaré€‰ä¸­è‰²ä¿æŒä¸€è‡´ */
  --nutui-tabbar-inactive-color: #999999; /* ä¸TabBaræœªé€‰ä¸­è‰²ä¿æŒä¸€è‡´ */

  --nutui-picker-title-ok-font-size: 16px;/*pickeré¢æ¿ç¡®è®¤å­—å·*/
  --nutui-picker-item-height: 40px; /*pickeré¢æ¿æ¯ä¸€æ¡æ•°æ®é«˜åº¦*/
  --nutui-picker-list-height: 180px;
  --nutui-picker-title-cancel-font-size: 16px;
}
===== End of File: styles\theme.css =====

